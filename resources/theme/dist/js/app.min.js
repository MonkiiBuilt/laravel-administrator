function assetInit(){$(".asset").each(function(e){var t=$(this).parent().find("input").val();""===t?$(this).html(addAssetMarkup):$(this).html(clearAssetMarkup+"<img class='asset-img' src='"+t+"' />")})}function assetOpen(e,t){$(".asset-picker-iframe").attr("src",window.assetModalURL+"?id="+e);$("#asset-picker-modal").modal()}function assetSelected(e,t){var a=e.replace(/(:|\.|\[|\]|,|=|@)/g,"\\$1");console.log("Asset selected"),console.log("Selected asset url: ",t),console.log("Selected caller id: ",a),console.log("Items matching called id: ",$("#"+a)),$("#"+a).val(t),assetInit()}function assetClose(){$(".asset-picker-iframe").attr("src","about:blank"),$(".modal.in").modal("hide")}function repeatablesAdd(e){var t=$(e).closest(".repeatables-container"),a=t.children(".repeatables-list"),n=t.children(".repeatables-template").html();if(n){var s=$.parseHTML(n);s=a.append(s),t.trigger("repeatables:added",t,s)}else console.error('Could not find a ".repeatables-template" to copy. Check your markup structure matches what repeatables.js is looking for.')}function repeatablesRemove(e){var t=$(e).closest(".repeatables-container");$(e).remove(),t.trigger("repeatables:removed",t)}function repeatablesUpdate(e){var t=$(e);t.children(".repeatables-list").children(".repeatables-item").each(function(e,t){$(t).html($(t).html().replace(repeatablesRegex,function(t,a,n,s){return a+e+s}))}),t.trigger("repeatables:updated")}var addAssetMarkup="        <a class='asset-add' href=''>            <svg class='icon icon-file'><use xmlns:xlink='http://www.w3.org/1999/xlink' xlink:href='#icon-file'></use></svg>             Add asset        </a>    ",clearAssetMarkup="    <a class='asset-clear' href=''>        <svg class='icon icon-cross'><use xmlns:xlink='http://www.w3.org/1999/xlink' xlink:href='#icon-cross'></use></svg>         Clear asset    </a>    ";$(document).ready(function(){assetInit(),$(document).on("click",".asset-add, .asset-img",function(e){e.preventDefault(),assetOpen($(this).parent().attr("data-id"),$(this).parent().attr("data-title"))}),$(document).on("click",".asset-clear",function(e){e.preventDefault(),$(this).parent().parent().find("input").val(""),assetInit()})});var ckeditorConfig={"ckeditor-full":{toolbarGroups:[{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker","editing"]},{name:"links",groups:["links"]},{name:"insert",groups:["insert"]},{name:"forms",groups:["forms"]},{name:"tools",groups:["tools"]},{name:"document",groups:["mode","document","doctools"]},{name:"others",groups:["others"]},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi","paragraph"]},{name:"styles",groups:["styles"]},{name:"colors",groups:["colors"]}],removeButtons:"Underline,Subscript,Superscript,Cut,Copy,Paste,SpecialChar,Maximize,About",filebrowserBrowseUrl:"/backstage/2017/assets/editor",allowedContent:!0},"ckeditor-basic":{toolbar:[{name:"basicstyles",items:["Bold","Italic"]},{name:"links",items:["Link","Unlink"]}]},"ckeditor-simple":{toolbar:[{name:"basicstyles",items:["Bold","Italic"]}]},"ckeditor-simple-hr":{toolbar:[{name:"basicstyles",items:["Bold","Italic","HorizontalRule"]}]}};$(document).ready(function(){var e=$(".ckeditor");e.length>0&&"undefined"!=typeof CKEDITOR&&e.each(function(e){var t=this.className.match(/ckeditor-(.*)( |$)/)[0]||"ckeditor-full";ckeditorConfig[t]&&CKEDITOR.replace(this.name,ckeditorConfig[t])}),"undefined"!=typeof CKEDITOR&&CKEDITOR.on("dialogDefinition",function(e){var t=(e.editor,e.data.name),a=e.data.definition;if("image"==t){var n=a.getContents("info");n.remove("txtBorder"),n.remove("txtHSpace"),n.remove("txtVSpace"),a.removeContents("Link")}})}),function(e,t){e.fn.warnIfChanged=function(a){var n=!1;return this.each(function(t){var a=e(this),s=a.is("form")?a:e("form",a);e("input, textarea, select",a).on("change",function(e){n=!0}),"undefined"!=typeof CKEDITOR&&CKEDITOR.on("instanceReady",function(t){var a=e('textarea[name="'+t.editor.name+'"]');e(a).closest("form").hasClass("warn-on-change")&&t.editor.on("change",function(e){this.checkDirty()&&(n=!0)})}),s.on("submit",function(e){n=!1})}),e(t).bind("beforeunload ",function(){if(n)return"Are you sure you want to leave this page? Changes that you made may not have been saved."}),this}}(jQuery,window),$(document).ready(function(){$("form.warn-on-change").warnIfChanged()});var BASE="/vendor/laravel-administrator/";$.get(BASE+"svg/icons.svg",function(e){var t=document.createElement("div");t.className="icons-svg",t.innerHTML=(new XMLSerializer).serializeToString(e.documentElement),document.body.insertBefore(t,document.body.childNodes[0])});var repeatablesRegex=/(sections\[.*?\]\[data\]\[)(.*?)(\]\[.*?\])/g;$(document).ready(function(){$(document).on("click",".repeatables-add",function(e){e.preventDefault(),repeatablesAdd(this)}),$(document).on("click",".repeatables-remove",function(e){e.preventDefault(),repeatablesRemove($(this).closest(".repeatables-item"))}),$(document).on("repeatables:added repeatables:removed",".repeatables-container",function(e,t,a){repeatablesUpdate(t)})});
//# sourceMappingURL=app.min.js.map
