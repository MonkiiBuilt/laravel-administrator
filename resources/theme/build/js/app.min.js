function youtube_parser(t){var e=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,i=t.match(e);return i&&11==i[7].length?i[7]:""}function is_url_valid(t){return/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)}function assetInit(){$(".asset").each(function(t){var e=$(this).parent().find("input").val();if(""===e)$(this).hasClass("video")?($(this).html("<div class='asset-add'><svg class='icon icon-file'><use xmlns:xlink='http://www.w3.org/1999/xlink' xlink:href='#icon-file'></use></svg> ADD ASSET</div><b>- OR -</b><br><textarea class='asset-video' placeholder='Add Video Embed Code'></textarea>"),$(this).find(".asset-video").blur(function(){assetSelected($(this).parent().attr("data-id"),$(this).val())})):$(this).html("<div class='asset-add'><svg class='icon icon-file'><use xmlns:xlink='http://www.w3.org/1999/xlink' xlink:href='#icon-file'></use></svg> ADD ASSET</div>"),$(this).find(".asset-add").click(function(){assetOpen($(this).parent().attr("data-id"),$(this).parent().attr("data-title"))});else{var i=e.toLowerCase();i.indexOf("youtube.com")>=0?$(this).html("<div class='asset-clear'><svg class='icon icon-cross'><use xmlns:xlink='http://www.w3.org/1999/xlink' xlink:href='#icon-cross'></use></svg> CLEAR ASSET</div>"+e):i.indexOf("vimeo.com")>=0?$(this).html("<div class='asset-clear'><svg class='icon icon-cross'><use xmlns:xlink='http://www.w3.org/1999/xlink' xlink:href='#icon-cross'></use></svg> CLEAR ASSET</div>"+e):i.indexOf(".jpeg")>=0||i.indexOf(".jpg")>=0||i.indexOf(".png")>=0||i.indexOf(".gif")>=0?($(this).html("<div class='asset-clear'><svg class='icon icon-cross'><use xmlns:xlink='http://www.w3.org/1999/xlink' xlink:href='#icon-cross'></use></svg> CLEAR ASSET</div><img class='asset-img' width='300px' height:='auto' src='"+e+"' />"),$(this).find(".asset-img").click(function(){assetOpen($(this).parent().attr("data-id"),$(this).parent().attr("data-title"))})):$(this).html("<div class='asset-clear'><svg class='icon icon-cross'><use xmlns:xlink='http://www.w3.org/1999/xlink' xlink:href='#icon-cross'></use></svg> CLEAR ASSET</div><a href='"+e+"' target='blank'>"+e+"</a>"),$(this).find(".asset-clear").click(function(){$(this).parent().parent().find("input").val(""),assetInit()})}})}function assetOpen(t,e){$("body").css("overflow-y","hidden"),$.colorbox({iframe:!0,top:0,width:"1000px",height:"100%",href:window.assetModalURL+"?id="+t+"&title="+e,onClosed:function(){$("body").css("overflow-y","scroll")}})}function assetSelected(t,e){$("#"+t).val(e),assetInit()}function assetClose(){$.colorbox.close()}!function(t,e){t.fn.warnIfChanged=function(i){var s=!1;return this.each(function(e){var i=t(this),n=i.is("form")?i:t("form",i);t("input, textarea, select",i).on("change",function(t){s=!0}),"undefined"!=typeof CKEDITOR&&CKEDITOR.on("instanceReady",function(e){var i=t('textarea[name="'+e.editor.name+'"]');t(i).closest("form").hasClass("warn-on-change")&&e.editor.on("change",function(t){this.checkDirty()&&(s=!0)})}),n.on("submit",function(t){s=!1})}),t(e).bind("beforeunload ",function(){if(s)return"Are you sure you want to leave this page? Changes that you made may not have been saved."}),this}}(jQuery,window);var BASE="/vendor/laravel-administrator/";$.get(BASE+"svg/icons.svg",function(t){var e=document.createElement("div");e.className="icons-svg",e.innerHTML=(new XMLSerializer).serializeToString(t.documentElement),document.body.insertBefore(e,document.body.childNodes[0])}),$(document).ready(function(){console.log("Project main.js loaded");var t=$(".ckeditor");t.length>0&&"undefined"!=typeof CKEDITOR&&t.each(function(t){var e=this.className.match(/ckeditor-(.*)( |$)/)[0]||"ckeditor-full";ckeditorConfig[e]&&CKEDITOR.replace(this.name,ckeditorConfig[e])}),$("form.warn-on-change").warnIfChanged(),"undefined"!=typeof CKEDITOR&&CKEDITOR.on("dialogDefinition",function(t){var e=(t.editor,t.data.name),i=t.data.definition;if("image"==e){var s=i.getContents("info");s.remove("txtBorder"),s.remove("txtHSpace"),s.remove("txtVSpace"),i.removeContents("Link")}})});var ckeditorConfig={"ckeditor-full":{toolbarGroups:[{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker","editing"]},{name:"links",groups:["links"]},{name:"insert",groups:["insert"]},{name:"forms",groups:["forms"]},{name:"tools",groups:["tools"]},{name:"document",groups:["mode","document","doctools"]},{name:"others",groups:["others"]},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi","paragraph"]},{name:"styles",groups:["styles"]},{name:"colors",groups:["colors"]}],removeButtons:"Underline,Subscript,Superscript,Cut,Copy,Paste,SpecialChar,Maximize,About",filebrowserBrowseUrl:"/backstage/2017/assets/editor",allowedContent:!0},"ckeditor-basic":{toolbar:[{name:"basicstyles",items:["Bold","Italic"]},{name:"links",items:["Link","Unlink"]}]},"ckeditor-simple":{toolbar:[{name:"basicstyles",items:["Bold","Italic"]}]},"ckeditor-simple-hr":{toolbar:[{name:"basicstyles",items:["Bold","Italic","HorizontalRule"]}]}};$(document).ready(function(){assetInit()}),function(t){"use strict";"function"==typeof define&&define.amd?define(t):"undefined"!=typeof module&&void 0!==module.exports?module.exports=t():"undefined"!=typeof Package?Sortable=t():window.Sortable=t()}(function(){"use strict";function t(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(t);this.el=t,this.options=e=_({},e),t[O]=this;var i={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(t.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",ignore:"a, img",filter:null,animation:0,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1};for(var s in i)!(s in e)&&(e[s]=i[s]);Q(e);for(var o in this)"_"===o.charAt(0)&&(this[o]=this[o].bind(this));this.nativeDraggable=!e.forceFallback&&P,n(t,"mousedown",this._onTapStart),n(t,"touchstart",this._onTapStart),this.nativeDraggable&&(n(t,"dragover",this),n(t,"dragenter",this)),Y.push(this._onDragOver),e.store&&this.sort(e.store.get(this))}function e(t){x&&x.state!==t&&(a(x,"display",t?"none":""),!t&&x.state&&C.insertBefore(x,w),x.state=t)}function i(t,e,i){if(t){i=i||W;do{if(">*"===e&&t.parentNode===i||m(t,e))return t}while(t!==i&&(t=t.parentNode))}return null}function s(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.preventDefault()}function n(t,e,i){t.addEventListener(e,i,!1)}function o(t,e,i){t.removeEventListener(e,i,!1)}function r(t,e,i){if(t)if(t.classList)t.classList[i?"add":"remove"](e);else{var s=(" "+t.className+" ").replace(N," ").replace(" "+e+" "," ");t.className=(s+(i?" "+e:"")).replace(N," ")}}function a(t,e,i){var s=t&&t.style;if(s){if(void 0===i)return W.defaultView&&W.defaultView.getComputedStyle?i=W.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),void 0===e?i:i[e];e in s||(e="-webkit-"+e),s[e]=i+("string"==typeof i?"":"px")}}function l(t,e,i){if(t){var s=t.getElementsByTagName(e),n=0,o=s.length;if(i)for(;o>n;n++)i(s[n],n);return s}return[]}function h(t,e,i,s,n,o,r){var a=W.createEvent("Event"),l=(t||e[O]).options,h="on"+i.charAt(0).toUpperCase()+i.substr(1);a.initEvent(i,!0,!0),a.to=e,a.from=n||e,a.item=s||e,a.clone=x,a.oldIndex=o,a.newIndex=r,e.dispatchEvent(a),l[h]&&l[h].call(t,a)}function c(t,e,i,s,n,o){var r,a,l=t[O],h=l.options.onMove;return r=W.createEvent("Event"),r.initEvent("move",!0,!0),r.to=e,r.from=t,r.dragged=i,r.draggedRect=s,r.related=n||e,r.relatedRect=o||e.getBoundingClientRect(),t.dispatchEvent(r),h&&(a=h.call(l,r)),a}function d(t){t.draggable=!1}function u(){j=!1}function p(t,e){var i=t.lastElementChild,s=i.getBoundingClientRect();return(e.clientY-(s.top+s.height)>5||e.clientX-(s.right+s.width)>5)&&i}function f(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,s=0;i--;)s+=e.charCodeAt(i);return s.toString(36)}function g(t,e){var i=0;if(!t||!t.parentNode)return-1;for(;t&&(t=t.previousElementSibling);)"TEMPLATE"!==t.nodeName.toUpperCase()&&m(t,e)&&i++;return i}function m(t,e){if(t){e=e.split(".");var i=e.shift().toUpperCase(),s=new RegExp("\\s("+e.join("|")+")(?=\\s)","g");return!(""!==i&&t.nodeName.toUpperCase()!=i||e.length&&((" "+t.className+" ").match(s)||[]).length!=e.length)}return!1}function v(t,e){var i,s;return function(){void 0===i&&(i=arguments,s=this,setTimeout(function(){1===i.length?t.call(s,i[0]):t.apply(s,i),i=void 0},e))}}function _(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}if("undefined"==typeof window||void 0===window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var w,b,y,x,C,F,k,D,T,E,z,L,S,A,M,B,I,R={},N=/\s+/g,O="Sortable"+(new Date).getTime(),H=window,W=H.document,$=H.parseInt,P=!!("draggable"in W.createElement("div")),U=function(t){return t=W.createElement("x"),t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}(),j=!1,q=Math.abs,Y=[],X=v(function(t,e,i){if(i&&e.scroll){var s,n,o,r,a=e.scrollSensitivity,l=e.scrollSpeed,h=t.clientX,c=t.clientY,d=window.innerWidth,u=window.innerHeight;if(D!==i&&(k=e.scroll,D=i,!0===k)){k=i;do{if(k.offsetWidth<k.scrollWidth||k.offsetHeight<k.scrollHeight)break}while(k=k.parentNode)}k&&(s=k,n=k.getBoundingClientRect(),o=(q(n.right-h)<=a)-(q(n.left-h)<=a),r=(q(n.bottom-c)<=a)-(q(n.top-c)<=a)),o||r||(o=(a>=d-h)-(a>=h),r=(a>=u-c)-(a>=c),(o||r)&&(s=H)),(R.vx!==o||R.vy!==r||R.el!==s)&&(R.el=s,R.vx=o,R.vy=r,clearInterval(R.pid),s&&(R.pid=setInterval(function(){s===H?H.scrollTo(H.pageXOffset+o*l,H.pageYOffset+r*l):(r&&(s.scrollTop+=r*l),o&&(s.scrollLeft+=o*l))},24)))}},30),Q=function(t){var e=t.group;e&&"object"==typeof e||(e=t.group={name:e}),["pull","put"].forEach(function(t){t in e||(e[t]=!0)}),t.groups=" "+e.name+(e.put.join?" "+e.put.join(" "):"")+" "};return t.prototype={constructor:t,_onTapStart:function(t){var e=this,s=this.el,n=this.options,o=t.type,r=t.touches&&t.touches[0],a=(r||t).target,l=a,c=n.filter;if(!("mousedown"===o&&0!==t.button||n.disabled)&&(a=i(a,n.draggable,s))){if(L=g(a,n.draggable),"function"==typeof c){if(c.call(this,t,a,this))return h(e,l,"filter",a,s,L),void t.preventDefault()}else if(c&&(c=c.split(",").some(function(t){return t=i(l,t.trim(),s),t?(h(e,t,"filter",a,s,L),!0):void 0})))return void t.preventDefault();(!n.handle||i(l,n.handle,s))&&this._prepareDragStart(t,r,a)}},_prepareDragStart:function(t,e,i){var s,o=this,a=o.el,h=o.options,c=a.ownerDocument;i&&!w&&i.parentNode===a&&(M=t,C=a,w=i,b=w.parentNode,F=w.nextSibling,A=h.group,s=function(){o._disableDelayedDrag(),w.draggable=!0,r(w,o.options.chosenClass,!0),o._triggerDragStart(e)},h.ignore.split(",").forEach(function(t){l(w,t.trim(),d)}),n(c,"mouseup",o._onDrop),n(c,"touchend",o._onDrop),n(c,"touchcancel",o._onDrop),h.delay?(n(c,"mouseup",o._disableDelayedDrag),n(c,"touchend",o._disableDelayedDrag),n(c,"touchcancel",o._disableDelayedDrag),n(c,"mousemove",o._disableDelayedDrag),n(c,"touchmove",o._disableDelayedDrag),o._dragStartTimer=setTimeout(s,h.delay)):s())},_disableDelayedDrag:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer),o(t,"mouseup",this._disableDelayedDrag),o(t,"touchend",this._disableDelayedDrag),o(t,"touchcancel",this._disableDelayedDrag),o(t,"mousemove",this._disableDelayedDrag),o(t,"touchmove",this._disableDelayedDrag)},_triggerDragStart:function(t){t?(M={target:w,clientX:t.clientX,clientY:t.clientY},this._onDragStart(M,"touch")):this.nativeDraggable?(n(w,"dragend",this),n(C,"dragstart",this._onDragStart)):this._onDragStart(M,!0);try{W.selection?setTimeout(function(){W.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(){C&&w&&(r(w,this.options.ghostClass,!0),t.active=this,h(this,C,"start",w,C,L))},_emulateDragOver:function(){if(B){if(this._lastX===B.clientX&&this._lastY===B.clientY)return;this._lastX=B.clientX,this._lastY=B.clientY,U||a(y,"display","none");var t=W.elementFromPoint(B.clientX,B.clientY),e=t,i=" "+this.options.group.name,s=Y.length;if(e)do{if(e[O]&&e[O].options.groups.indexOf(i)>-1){for(;s--;)Y[s]({clientX:B.clientX,clientY:B.clientY,target:t,rootEl:e});break}t=e}while(e=e.parentNode);U||a(y,"display","")}},_onTouchMove:function(e){if(M){t.active||this._dragStarted(),this._appendGhost();var i=e.touches?e.touches[0]:e,s=i.clientX-M.clientX,n=i.clientY-M.clientY,o=e.touches?"translate3d("+s+"px,"+n+"px,0)":"translate("+s+"px,"+n+"px)";I=!0,B=i,a(y,"webkitTransform",o),a(y,"mozTransform",o),a(y,"msTransform",o),a(y,"transform",o),e.preventDefault()}},_appendGhost:function(){if(!y){var t,e=w.getBoundingClientRect(),i=a(w),s=this.options;y=w.cloneNode(!0),r(y,s.ghostClass,!1),r(y,s.fallbackClass,!0),a(y,"top",e.top-$(i.marginTop,10)),a(y,"left",e.left-$(i.marginLeft,10)),a(y,"width",e.width),a(y,"height",e.height),a(y,"opacity","0.8"),a(y,"position","fixed"),a(y,"zIndex","100000"),a(y,"pointerEvents","none"),s.fallbackOnBody&&W.body.appendChild(y)||C.appendChild(y),t=y.getBoundingClientRect(),a(y,"width",2*e.width-t.width),a(y,"height",2*e.height-t.height)}},_onDragStart:function(t,e){var i=t.dataTransfer,s=this.options;this._offUpEvents(),"clone"==A.pull&&(x=w.cloneNode(!0),a(x,"display","none"),C.insertBefore(x,w)),e?("touch"===e?(n(W,"touchmove",this._onTouchMove),n(W,"touchend",this._onDrop),n(W,"touchcancel",this._onDrop)):(n(W,"mousemove",this._onTouchMove),n(W,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(i&&(i.effectAllowed="move",s.setData&&s.setData.call(this,i,w)),n(W,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(t){var s,n,o,r=this.el,l=this.options,h=l.group,d=h.put,f=A===h,g=l.sort;if(void 0!==t.preventDefault&&(t.preventDefault(),!l.dragoverBubble&&t.stopPropagation()),I=!0,A&&!l.disabled&&(f?g||(o=!C.contains(w)):A.pull&&d&&(A.name===h.name||d.indexOf&&~d.indexOf(A.name)))&&(void 0===t.rootEl||t.rootEl===this.el)){if(X(t,l,this.el),j)return;if(s=i(t.target,l.draggable,r),n=w.getBoundingClientRect(),o)return e(!0),void(x||F?C.insertBefore(w,x||F):g||C.appendChild(w));if(0===r.children.length||r.children[0]===y||r===t.target&&(s=p(r,t))){if(s){if(s.animated)return;v=s.getBoundingClientRect()}e(f),!1!==c(C,r,w,n,s,v)&&(w.contains(r)||(r.appendChild(w),b=r),this._animate(n,w),s&&this._animate(v,s))}else if(s&&!s.animated&&s!==w&&void 0!==s.parentNode[O]){T!==s&&(T=s,E=a(s),z=a(s.parentNode));var m,v=s.getBoundingClientRect(),_=v.right-v.left,k=v.bottom-v.top,D=/left|right|inline/.test(E.cssFloat+E.display)||"flex"==z.display&&0===z["flex-direction"].indexOf("row"),L=s.offsetWidth>w.offsetWidth,S=s.offsetHeight>w.offsetHeight,M=(D?(t.clientX-v.left)/_:(t.clientY-v.top)/k)>.5,B=s.nextElementSibling,R=c(C,r,w,n,s,v);if(!1!==R){if(j=!0,setTimeout(u,30),e(f),1===R||-1===R)m=1===R;else if(D){var N=w.offsetTop,H=s.offsetTop;m=N===H?s.previousElementSibling===w&&!L||M&&L:H>N}else m=B!==w&&!S||M&&S;w.contains(r)||(m&&!B?r.appendChild(w):s.parentNode.insertBefore(w,m?B:s)),b=w.parentNode,this._animate(n,w),this._animate(v,s)}}}},_animate:function(t,e){var i=this.options.animation;if(i){var s=e.getBoundingClientRect();a(e,"transition","none"),a(e,"transform","translate3d("+(t.left-s.left)+"px,"+(t.top-s.top)+"px,0)"),e.offsetWidth,a(e,"transition","all "+i+"ms"),a(e,"transform","translate3d(0,0,0)"),clearTimeout(e.animated),e.animated=setTimeout(function(){a(e,"transition",""),a(e,"transform",""),e.animated=!1},i)}},_offUpEvents:function(){var t=this.el.ownerDocument;o(W,"touchmove",this._onTouchMove),o(t,"mouseup",this._onDrop),o(t,"touchend",this._onDrop),o(t,"touchcancel",this._onDrop)},_onDrop:function(e){var i=this.el,s=this.options;clearInterval(this._loopId),clearInterval(R.pid),clearTimeout(this._dragStartTimer),o(W,"mousemove",this._onTouchMove),this.nativeDraggable&&(o(W,"drop",this),o(i,"dragstart",this._onDragStart)),this._offUpEvents(),e&&(I&&(e.preventDefault(),!s.dropBubble&&e.stopPropagation()),y&&y.parentNode.removeChild(y),w&&(this.nativeDraggable&&o(w,"dragend",this),d(w),r(w,this.options.ghostClass,!1),r(w,this.options.chosenClass,!1),C!==b?(S=g(w,s.draggable))>=0&&(h(null,b,"sort",w,C,L,S),h(this,C,"sort",w,C,L,S),h(null,b,"add",w,C,L,S),h(this,C,"remove",w,C,L,S)):(x&&x.parentNode.removeChild(x),w.nextSibling!==F&&(S=g(w,s.draggable))>=0&&(h(this,C,"update",w,C,L,S),h(this,C,"sort",w,C,L,S))),t.active&&((null==S||-1===S)&&(S=L),h(this,C,"end",w,C,L,S),this.save()))),this._nulling()},_nulling:function(){t.active===this&&(C=w=b=y=F=x=k=D=M=B=I=S=T=E=A=t.active=null)},handleEvent:function(t){var e=t.type;"dragover"===e||"dragenter"===e?w&&(this._onDragOver(t),s(t)):("drop"===e||"dragend"===e)&&this._onDrop(t)},toArray:function(){for(var t,e=[],s=this.el.children,n=0,o=s.length,r=this.options;o>n;n++)t=s[n],i(t,r.draggable,this.el)&&e.push(t.getAttribute(r.dataIdAttr)||f(t));return e},sort:function(t){var e={},s=this.el;this.toArray().forEach(function(t,n){var o=s.children[n];i(o,this.options.draggable,s)&&(e[t]=o)},this),t.forEach(function(t){e[t]&&(s.removeChild(e[t]),s.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set(this)},closest:function(t,e){return i(t,e||this.options.draggable,this.el)},option:function(t,e){var i=this.options;return void 0===e?i[t]:(i[t]=e,void("group"===t&&Q(i)))},destroy:function(){var t=this.el;t[O]=null,o(t,"mousedown",this._onTapStart),o(t,"touchstart",this._onTapStart),this.nativeDraggable&&(o(t,"dragover",this),o(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),Y.splice(Y.indexOf(this._onDragOver),1),this._onDrop(),this.el=t=null}},t.utils={on:n,off:o,css:a,find:l,is:function(t,e){return!!i(t,e,t)},extend:_,throttle:v,closest:i,toggleClass:r,index:g},t.create=function(e,i){return new t(e,i)},t.version="1.4.2",t}),function(){var t,e,i,s,n,o={}.hasOwnProperty,r=function(t,e){function i(){this.constructor=t}for(var s in e)o.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};s=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,i,s,n,o,r;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:this.escapeExpression(t.label),title:t.title?t.title:void 0,children:0,disabled:t.disabled,classes:t.className}),o=t.childNodes,r=[],s=0,n=o.length;s<n;s++)i=o[s],r.push(this.add_option(i,e,t.disabled));return r},t.prototype.add_option=function(t,e,i){if("OPTION"===t.nodeName.toUpperCase())return""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,title:t.title?t.title:void 0,selected:t.selected,disabled:!0===i?i:t.disabled,group_array_index:e,group_label:null!=e?this.parsed[e].label:null,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},t.prototype.escapeExpression=function(t){var e,i;return null==t||!1===t?"":/[\&\<\>\"\'\`]/.test(t)?(e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,t.replace(i,function(t){return e[t]||"&amp;"})):t},t}(),s.select_to_array=function(t){var e,i,n,o,r;for(i=new s,r=t.childNodes,n=0,o=r.length;n<o;n++)e=r[n],i.add_node(e);return i.parsed},e=function(){function t(e,i){this.form_field=e,this.options=null!=i?i:{},t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return t.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1},t.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.choice_label=function(t){return this.include_group_label_in_selected&&null!=t.group_label?"<b class='group-name'>"+t.group_label+"</b>"+t.html:t.html},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(t){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(t){var e=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(){return e.blur_test()},100)},t.prototype.results_option_build=function(t){var e,i,s,n,o,r,a;for(e="",n=0,a=this.results_data,o=0,r=a.length;o<r&&(i=a[o],s="",s=i.group?this.result_add_group(i):this.result_add_option(i),""!==s&&(n++,e+=s),(null!=t?t.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(i))),!(n>=this.max_shown_results));o++);return e},t.prototype.result_add_option=function(t){var e,i;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),i=document.createElement("li"),i.className=e.join(" "),i.style.cssText=t.style,i.setAttribute("data-option-array-index",t.array_index),i.innerHTML=t.search_text,t.title&&(i.title=t.title),this.outerHTML(i)):""},t.prototype.result_add_group=function(t){var e,i;return(t.search_match||t.group_match)&&t.active_options>0?(e=[],e.push("group-result"),t.classes&&e.push(t.classes),i=document.createElement("li"),i.className=e.join(" "),i.innerHTML=t.search_text,t.title&&(i.title=t.title),this.outerHTML(i)):""},t.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},t.prototype.reset_single_select_options=function(){var t,e,i,s,n;for(s=this.results_data,n=[],e=0,i=s.length;e<i;e++)t=s[e],t.selected?n.push(t.selected=!1):n.push(void 0);return n},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(t){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.winnow_results=function(){var t,e,i,s,n,o,r,a,l,h,c,d;for(this.no_results_clear(),s=0,o=this.get_search_text(),t=o.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),l=new RegExp(t,"i"),i=this.get_search_regex(t),d=this.results_data,h=0,c=d.length;h<c;h++)e=d[h],e.search_match=!1,n=null,this.include_option_in_results(e)&&(e.group&&(e.group_match=!1,e.active_options=0),null!=e.group_array_index&&this.results_data[e.group_array_index]&&(n=this.results_data[e.group_array_index],0===n.active_options&&n.search_match&&(s+=1),n.active_options+=1),e.search_text=e.group?e.label:e.html,e.group&&!this.group_search||(e.search_match=this.search_string_match(e.search_text,i),e.search_match&&!e.group&&(s+=1),e.search_match?(o.length&&(r=e.search_text.search(l),a=e.search_text.substr(0,r+o.length)+"</em>"+e.search_text.substr(r+o.length),e.search_text=a.substr(0,r)+"<em>"+a.substr(r)),null!=n&&(n.group_match=!0)):null!=e.group_array_index&&this.results_data[e.group_array_index].search_match&&(e.search_match=!0)));return this.result_clear_highlight(),s<1&&o.length?(this.update_results_content(""),this.no_results(o)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},t.prototype.get_search_regex=function(t){var e,i;return e=this.search_contains?"":"^",i=this.case_sensitive_search?"":"i",new RegExp(e+t,i)},t.prototype.search_string_match=function(t,e){var i,s,n,o;if(e.test(t))return!0;if(this.enable_split_word_search&&(t.indexOf(" ")>=0||0===t.indexOf("["))&&(s=t.replace(/\[|\]/g,"").split(" "),s.length))for(n=0,o=s.length;n<o;n++)if(i=s[n],e.test(i))return!0},t.prototype.choices_count=function(){var t,e,i,s;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,s=this.form_field.options,e=0,i=s.length;e<i;e++)t=s[e],t.selected&&(this.selected_option_count+=1);return this.selected_option_count},t.prototype.choices_click=function(t){if(t.preventDefault(),!this.results_showing&&!this.is_disabled)return this.results_show()},t.prototype.keyup_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:case 18:break;default:return this.results_search()}},t.prototype.clipboard_event_checker=function(t){var e=this;return setTimeout(function(){return e.results_search()},50)},t.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},t.prototype.include_option_in_results=function(t){return!(this.is_multiple&&!this.display_selected_options&&t.selected)&&(!(!this.display_disabled_options&&t.disabled)&&!t.empty)},t.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},t.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},t.prototype.search_results_touchend=function(t){if(this.touch_started)return this.search_results_mouseup(t)},t.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:(e=document.createElement("div"),e.appendChild(t),e.innerHTML)},t.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:!(/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent))},t.default_multiple_text="Select Some Options",t.default_single_text="Select an Option",t.default_no_result_text="No results match",t}(),t=jQuery,t.fn.extend({chosen:function(s){return e.browser_is_supported()?this.each(function(e){var n,o;if(n=t(this),o=n.data("chosen"),"destroy"===s)return void(o instanceof i&&o.destroy());o instanceof i||n.data("chosen",new i(this,s))}):this}}),i=function(e){function i(){return n=i.__super__.constructor.apply(this,arguments)}return r(i,e),i.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},i.prototype.set_up_html=function(){var e,i;return e=["chosen-container"],e.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),i={class:e.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=t("<div />",i),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),
this.set_tab_index(),this.set_label_behavior()},i.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},i.prototype.register_observers=function(){var t=this;return this.container.bind("touchstart.chosen",function(e){return t.container_mousedown(e),e.preventDefault()}),this.container.bind("touchend.chosen",function(e){return t.container_mouseup(e),e.preventDefault()}),this.container.bind("mousedown.chosen",function(e){t.container_mousedown(e)}),this.container.bind("mouseup.chosen",function(e){t.container_mouseup(e)}),this.container.bind("mouseenter.chosen",function(e){t.mouse_enter(e)}),this.container.bind("mouseleave.chosen",function(e){t.mouse_leave(e)}),this.search_results.bind("mouseup.chosen",function(e){t.search_results_mouseup(e)}),this.search_results.bind("mouseover.chosen",function(e){t.search_results_mouseover(e)}),this.search_results.bind("mouseout.chosen",function(e){t.search_results_mouseout(e)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(e){t.search_results_mousewheel(e)}),this.search_results.bind("touchstart.chosen",function(e){t.search_results_touchstart(e)}),this.search_results.bind("touchmove.chosen",function(e){t.search_results_touchmove(e)}),this.search_results.bind("touchend.chosen",function(e){t.search_results_touchend(e)}),this.form_field_jq.bind("chosen:updated.chosen",function(e){t.results_update_field(e)}),this.form_field_jq.bind("chosen:activate.chosen",function(e){t.activate_field(e)}),this.form_field_jq.bind("chosen:open.chosen",function(e){t.container_mousedown(e)}),this.form_field_jq.bind("chosen:close.chosen",function(e){t.input_blur(e)}),this.search_field.bind("blur.chosen",function(e){t.input_blur(e)}),this.search_field.bind("keyup.chosen",function(e){t.keyup_checker(e)}),this.search_field.bind("keydown.chosen",function(e){t.keydown_checker(e)}),this.search_field.bind("focus.chosen",function(e){t.input_focus(e)}),this.search_field.bind("cut.chosen",function(e){t.clipboard_event_checker(e)}),this.search_field.bind("paste.chosen",function(e){t.clipboard_event_checker(e)}),this.is_multiple?this.search_choices.bind("click.chosen",function(e){t.choices_click(e)}):this.container.bind("click.chosen",function(t){t.preventDefault()})},i.prototype.destroy=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},i.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},i.prototype.container_mousedown=function(e){if(!this.is_disabled&&(e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),null==e||!t(e.target).hasClass("search-choice-close")))return this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field()},i.prototype.container_mouseup=function(t){if("ABBR"===t.target.nodeName&&!this.is_disabled)return this.results_reset(t)},i.prototype.search_results_mousewheel=function(t){var e;if(t.originalEvent&&(e=t.originalEvent.deltaY||-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e)return t.preventDefault(),"DOMMouseScroll"===t.type&&(e*=40),this.search_results.scrollTop(e+this.search_results.scrollTop())},i.prototype.blur_test=function(t){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},i.prototype.close_field=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},i.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},i.prototype.test_active_click=function(e){var i;return i=t(e.target).closest(".chosen-container"),i.length&&this.container[0]===i[0]?this.active_field=!0:this.close_field()},i.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=s.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},i.prototype.result_do_highlight=function(t){var e,i,s,n,o;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),s=parseInt(this.search_results.css("maxHeight"),10),o=this.search_results.scrollTop(),n=s+o,i=this.result_highlight.position().top+this.search_results.scrollTop(),(e=i+this.result_highlight.outerHeight())>=n)return this.search_results.scrollTop(e-s>0?e-s:0);if(i<o)return this.search_results.scrollTop(i)}},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},i.prototype.update_results_content=function(t){return this.search_results.html(t)},i.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},i.prototype.set_tab_index=function(t){var e;if(this.form_field.tabIndex)return e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e},i.prototype.set_label_behavior=function(){var e=this;if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0)return this.form_field_label.bind("click.chosen",function(t){return e.is_multiple?e.container_mousedown(t):e.activate_field()})},i.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},i.prototype.search_results_mouseup=function(e){var i;if(i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i.length)return this.result_highlight=i,this.result_select(e),this.search_field.focus()},i.prototype.search_results_mouseover=function(e){var i;if(i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first())return this.result_do_highlight(i)},i.prototype.search_results_mouseout=function(e){if(t(e.target).hasClass("active-result"))return this.result_clear_highlight()},i.prototype.choice_build=function(e){var i,s,n=this;return i=t("<li />",{class:"search-choice"}).html("<span>"+this.choice_label(e)+"</span>"),e.disabled?i.addClass("search-choice-disabled"):(s=t("<a />",{class:"search-choice-close","data-option-array-index":e.array_index}),s.bind("click.chosen",function(t){return n.choice_destroy_link_click(t)}),i.append(s)),this.search_container.before(i)},i.prototype.choice_destroy_link_click=function(e){if(e.preventDefault(),e.stopPropagation(),!this.is_disabled)return this.choice_destroy(t(e.target))},i.prototype.choice_destroy=function(t){if(this.result_deselect(t[0].getAttribute("data-option-array-index")))return this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()},i.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field)return this.results_hide()},i.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},i.prototype.result_select=function(t){var e,i;if(this.result_highlight)return e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),e.addClass("result-selected"),i=this.results_data[e[0].getAttribute("data-option-array-index")],i.selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(this.choice_label(i)),(t.metaKey||t.ctrlKey)&&this.is_multiple||this.results_hide(),this.show_search_field_default(),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,t.preventDefault(),this.search_field_scale())},i.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(t)},i.prototype.result_deselect=function(t){var e;return e=this.results_data[t],!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},i.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},i.prototype.get_search_text=function(){return t("<div/>").text(t.trim(this.search_field.val())).html()},i.prototype.winnow_results_set_highlight=function(){var t,e;if(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),null!=(t=e.length?e.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(t)},i.prototype.no_results=function(e){var i;return i=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(e),this.search_results.append(i),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},i.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},i.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result"),t.length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},i.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last(),t.length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},i.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},i.prototype.keydown_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&this.is_multiple,this.mouse_on_container=!1;break;case 13:this.results_showing&&t.preventDefault();break;case 32:this.disable_search&&t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},i.prototype.search_field_scale=function(){var e,i,s,n,o,r,a,l;if(this.is_multiple){for(0,r=0,n="position:absolute; left: -1000px; top: -1000px; display:none;",o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],a=0,l=o.length;a<l;a++)s=o[a],n+=s+":"+this.search_field.css(s)+";";return e=t("<div />",{style:n}),e.text(this.search_field.val()),t("body").append(e),r=e.width()+25,e.remove(),i=this.container.outerWidth(),r>i-10&&(r=i-10),this.search_field.css({width:r+"px"})}},i}(e)}.call(this),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){"use strict";function e(t){return"number"==typeof t&&!isNaN(t)}function i(t){return void 0===t}function s(t,i){var s=[];return e(i)&&s.push(i),s.slice.apply(t,s)}function n(t,e){var i=s(arguments,2);return function(){return t.apply(e,i.concat(s(arguments)))}}function o(t){var e=t.match(/^(https?:)\/\/([^\:\/\?#]+):?(\d*)/i);return e&&(e[1]!==b.protocol||e[2]!==b.hostname||e[3]!==b.port)}function r(t){var e="timestamp="+(new Date).getTime();return t+(-1===t.indexOf("?")?"?":"&")+e}function a(t){return t?' crossOrigin="'+t+'"':""}function l(t,e){var i;if(t.naturalWidth&&!M)return e(t.naturalWidth,t.naturalHeight);i=document.createElement("img"),i.onload=function(){e(this.width,this.height)},i.src=t.src}function h(t){var i=[],s=t.rotate,n=t.scaleX,o=t.scaleY;return e(n)&&e(o)&&i.push("scale("+n+","+o+")"),e(s)&&i.push("rotate("+s+"deg)"),i.length?i.join(" "):"none"}function c(t,e){var i,s,n=N(t.degree)%180,o=(n>90?180-n:n)*Math.PI/180,r=O(o),a=H(o),l=t.width,h=t.height,c=t.aspectRatio;return e?(i=l/(a+r/c),s=i/c):(i=l*a+h*r,s=l*r+h*a),{width:i,height:s}}function d(i,s){var n,o,r,a=t("<canvas>")[0],l=a.getContext("2d"),h=0,d=0,u=s.naturalWidth,p=s.naturalHeight,f=s.rotate,g=s.scaleX,m=s.scaleY,v=e(g)&&e(m)&&(1!==g||1!==m),_=e(f)&&0!==f,w=_||v,b=u*N(g||1),y=p*N(m||1);return v&&(n=b/2,o=y/2),_&&(r=c({width:b,height:y,degree:f}),b=r.width,y=r.height,n=b/2,o=y/2),a.width=b,a.height=y,w&&(h=-u/2,d=-p/2,l.save(),l.translate(n,o)),v&&l.scale(g,m),_&&l.rotate(f*Math.PI/180),l.drawImage(i,P(h),P(d),P(u),P(p)),w&&l.restore(),a}function u(e){var i=e.length,s=0,n=0;return i&&(t.each(e,function(t,e){s+=e.pageX,n+=e.pageY}),s/=i,n/=i),{pageX:s,pageY:n}}function p(t,e,i){var s,n="";for(s=e,i+=e;s<i;s++)n+=U(t.getUint8(s));return n}function f(t){var e,i,s,n,o,r,a,l,h,c,d=new F(t),u=d.byteLength;if(255===d.getUint8(0)&&216===d.getUint8(1))for(h=2;h<u;){if(255===d.getUint8(h)&&225===d.getUint8(h+1)){a=h;break}h++}if(a&&(i=a+4,s=a+10,"Exif"===p(d,i,4)&&(r=d.getUint16(s),((o=18761===r)||19789===r)&&42===d.getUint16(s+2,o)&&(n=d.getUint32(s+4,o))>=8&&(l=s+n))),l)for(u=d.getUint16(l,o),c=0;c<u;c++)if(h=l+12*c+2,274===d.getUint16(h,o)){h+=8,e=d.getUint16(h,o),M&&d.setUint16(h,1,o);break}return e}function g(t){var e,i=t.replace(L,""),s=atob(i),n=s.length,o=new x(n),r=new C(o);for(e=0;e<n;e++)r[e]=s.charCodeAt(e);return o}function m(t){var e,i=new C(t),s=i.length,n="";for(e=0;e<s;e++)n+=U(i[e]);return"data:image/jpeg;base64,"+k(n)}function v(e,i){this.$element=t(e),this.options=t.extend({},v.DEFAULTS,t.isPlainObject(i)&&i),this.isLoaded=!1,this.isBuilt=!1,this.isCompleted=!1,this.isRotated=!1,this.isCropped=!1,this.isDisabled=!1,this.isReplaced=!1,this.isLimited=!1,this.wheeling=!1,this.isImg=!1,this.originalUrl="",this.canvas=null,this.cropBox=null,this.init()}var _=t(window),w=t(document),b=window.location,y=window.navigator,x=window.ArrayBuffer,C=window.Uint8Array,F=window.DataView,k=window.btoa,D="cropper-hidden",T="mouseup touchend touchcancel pointerup pointercancel MSPointerUp MSPointerCancel",E=/e|w|s|n|se|sw|ne|nw|all|crop|move|zoom/,z=/^data\:/,L=/^data\:([^\;]+)\;base64,/,S=/^data\:image\/jpeg.*;base64,/,A=t.isFunction(t("<canvas>")[0].getContext),M=y&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(y.userAgent),B=Number,I=Math.min,R=Math.max,N=Math.abs,O=Math.sin,H=Math.cos,W=Math.sqrt,$=Math.round,P=Math.floor,U=String.fromCharCode;v.prototype={constructor:v,init:function(){var t,e=this.$element;if(e.is("img")){if(this.isImg=!0,this.originalUrl=t=e.attr("src"),!t)return;t=e.prop("src")}else e.is("canvas")&&A&&(t=e[0].toDataURL());this.load(t)},trigger:function(e,i){var s=t.Event(e,i);return this.$element.trigger(s),s},load:function(e){var i,s,n=this.options,a=this.$element;if(e&&(a.one("build.cropper",n.build),!this.trigger("build.cropper").isDefaultPrevented())){if(this.url=e,this.image={},!n.checkOrientation||!x)return this.clone();if(i=t.proxy(this.read,this),z.test(e))return S.test(e)?i(g(e)):this.clone();s=new XMLHttpRequest,s.onerror=s.onabort=t.proxy(function(){this.clone()},this),s.onload=function(){i(this.response)},n.checkCrossOrigin&&o(e)&&a.prop("crossOrigin")&&(e=r(e)),s.open("get",e),s.responseType="arraybuffer",s.send()}},read:function(t){var e,i,s,n=this.options,o=f(t),r=this.image;if(o>1)switch(this.url=m(t),o){case 2:i=-1;break;case 3:e=-180;break;case 4:s=-1;break;case 5:e=90,s=-1;break;case 6:e=90;break;case 7:e=90,i=-1;break;case 8:e=-90}n.rotatable&&(r.rotate=e),n.scalable&&(r.scaleX=i,r.scaleY=s),this.clone()},clone:function(){var e,i,s=this.options,n=this.$element,l=this.url,h="";s.checkCrossOrigin&&o(l)&&(h=n.prop("crossOrigin"),h?e=l:(h="anonymous",e=r(l))),this.crossOrigin=h,this.crossOriginUrl=e,this.$clone=i=t("<img"+a(h)+' src="'+(e||l)+'">'),this.isImg?n[0].complete?this.start():n.one("load.cropper",t.proxy(this.start,this)):i.one("load.cropper",t.proxy(this.start,this)).one("error.cropper",t.proxy(this.stop,this)).addClass("cropper-hide").insertAfter(n)},start:function(){var e=this.$element,i=this.$clone;this.isImg||(i.off("error.cropper",this.stop),e=i),l(e[0],t.proxy(function(e,i){t.extend(this.image,{naturalWidth:e,naturalHeight:i,aspectRatio:e/i}),this.isLoaded=!0,this.build()},this))},stop:function(){this.$clone.remove(),this.$clone=null},build:function(){var e,i,s,n=this.options,o=this.$element,r=this.$clone;this.isLoaded&&(this.isBuilt&&this.unbuild(),this.$container=o.parent(),this.$cropper=e=t(v.TEMPLATE),this.$canvas=e.find(".cropper-canvas").append(r),this.$dragBox=e.find(".cropper-drag-box"),this.$cropBox=i=e.find(".cropper-crop-box"),this.$viewBox=e.find(".cropper-view-box"),this.$face=s=i.find(".cropper-face"),o.addClass(D).after(e),this.isImg||r.removeClass("cropper-hide"),this.initPreview(),this.bind(),n.aspectRatio=R(0,n.aspectRatio)||NaN,n.viewMode=R(0,I(3,$(n.viewMode)))||0,n.autoCrop?(this.isCropped=!0,n.modal&&this.$dragBox.addClass("cropper-modal")):i.addClass(D),n.guides||i.find(".cropper-dashed").addClass(D),n.center||i.find(".cropper-center").addClass(D),n.cropBoxMovable&&s.addClass("cropper-move").data("action","all"),n.highlight||s.addClass("cropper-invisible"),n.background&&e.addClass("cropper-bg"),n.cropBoxResizable||i.find(".cropper-line, .cropper-point").addClass(D),this.setDragMode(n.dragMode),this.render(),this.isBuilt=!0,this.setData(n.data),o.one("built.cropper",n.built),setTimeout(t.proxy(function(){this.trigger("built.cropper"),this.trigger("crop.cropper",this.getData()),this.isCompleted=!0},this),0))},unbuild:function(){this.isBuilt&&(this.isBuilt=!1,this.isCompleted=!1,this.initialImage=null,this.initialCanvas=null,this.initialCropBox=null,this.container=null,this.canvas=null,this.cropBox=null,this.unbind(),this.resetPreview(),this.$preview=null,this.$viewBox=null,this.$cropBox=null,this.$dragBox=null,this.$canvas=null,this.$container=null,this.$cropper.remove(),this.$cropper=null)},render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.isCropped&&this.renderCropBox()},initContainer:function(){var t=this.options,e=this.$element,i=this.$container,s=this.$cropper;s.addClass(D),e.removeClass(D),s.css(this.container={width:R(i.width(),B(t.minContainerWidth)||200),height:R(i.height(),B(t.minContainerHeight)||100)}),e.addClass(D),s.removeClass(D)},initCanvas:function(){var e,i=this.options.viewMode,s=this.container,n=s.width,o=s.height,r=this.image,a=r.naturalWidth,l=r.naturalHeight,h=90===N(r.rotate),c=h?l:a,d=h?a:l,u=c/d,p=n,f=o;o*u>n?3===i?p=o*u:f=n/u:3===i?f=n/u:p=o*u,e={naturalWidth:c,naturalHeight:d,aspectRatio:u,width:p,height:f},e.oldLeft=e.left=(n-p)/2,e.oldTop=e.top=(o-f)/2,this.canvas=e,this.isLimited=1===i||2===i,this.limitCanvas(!0,!0),this.initialImage=t.extend({},r),this.initialCanvas=t.extend({},e)},limitCanvas:function(t,e){var i,s,n,o,r=this.options,a=r.viewMode,l=this.container,h=l.width,c=l.height,d=this.canvas,u=d.aspectRatio,p=this.cropBox,f=this.isCropped&&p;t&&(i=B(r.minCanvasWidth)||0,s=B(r.minCanvasHeight)||0,a&&(a>1?(i=R(i,h),s=R(s,c),3===a&&(s*u>i?i=s*u:s=i/u)):i?i=R(i,f?p.width:0):s?s=R(s,f?p.height:0):f&&(i=p.width,s=p.height,s*u>i?i=s*u:s=i/u)),i&&s?s*u>i?s=i/u:i=s*u:i?s=i/u:s&&(i=s*u),d.minWidth=i,d.minHeight=s,d.maxWidth=1/0,d.maxHeight=1/0),e&&(a?(n=h-d.width,o=c-d.height,d.minLeft=I(0,n),d.minTop=I(0,o),d.maxLeft=R(0,n),d.maxTop=R(0,o),f&&this.isLimited&&(d.minLeft=I(p.left,p.left+p.width-d.width),d.minTop=I(p.top,p.top+p.height-d.height),d.maxLeft=p.left,d.maxTop=p.top,2===a&&(d.width>=h&&(d.minLeft=I(0,n),d.maxLeft=R(0,n)),d.height>=c&&(d.minTop=I(0,o),d.maxTop=R(0,o))))):(d.minLeft=-d.width,d.minTop=-d.height,d.maxLeft=h,d.maxTop=c))},renderCanvas:function(t){var e,i,s=this.canvas,n=this.image,o=n.rotate,r=n.naturalWidth,a=n.naturalHeight;this.isRotated&&(this.isRotated=!1,i=c({width:n.width,height:n.height,degree:o}),(e=i.width/i.height)!==s.aspectRatio&&(s.left-=(i.width-s.width)/2,s.top-=(i.height-s.height)/2,s.width=i.width,s.height=i.height,s.aspectRatio=e,s.naturalWidth=r,s.naturalHeight=a,o%180&&(i=c({width:r,height:a,degree:o}),s.naturalWidth=i.width,s.naturalHeight=i.height),this.limitCanvas(!0,!1))),(s.width>s.maxWidth||s.width<s.minWidth)&&(s.left=s.oldLeft),(s.height>s.maxHeight||s.height<s.minHeight)&&(s.top=s.oldTop),s.width=I(R(s.width,s.minWidth),s.maxWidth),s.height=I(R(s.height,s.minHeight),s.maxHeight),this.limitCanvas(!1,!0),s.oldLeft=s.left=I(R(s.left,s.minLeft),s.maxLeft),s.oldTop=s.top=I(R(s.top,s.minTop),s.maxTop),this.$canvas.css({width:s.width,height:s.height,left:s.left,top:s.top}),this.renderImage(),this.isCropped&&this.isLimited&&this.limitCropBox(!0,!0),t&&this.output()},renderImage:function(e){var i,s=this.canvas,n=this.image;n.rotate&&(i=c({width:s.width,height:s.height,degree:n.rotate,aspectRatio:n.aspectRatio},!0)),t.extend(n,i?{width:i.width,height:i.height,left:(s.width-i.width)/2,top:(s.height-i.height)/2}:{width:s.width,height:s.height,left:0,top:0}),this.$clone.css({width:n.width,height:n.height,marginLeft:n.left,marginTop:n.top,transform:h(n)}),e&&this.output()},initCropBox:function(){var e=this.options,i=this.canvas,s=e.aspectRatio,n=B(e.autoCropArea)||.8,o={width:i.width,height:i.height};s&&(i.height*s>i.width?o.height=o.width/s:o.width=o.height*s),this.cropBox=o,this.limitCropBox(!0,!0),o.width=I(R(o.width,o.minWidth),o.maxWidth),o.height=I(R(o.height,o.minHeight),o.maxHeight),o.width=R(o.minWidth,o.width*n),o.height=R(o.minHeight,o.height*n),o.oldLeft=o.left=i.left+(i.width-o.width)/2,o.oldTop=o.top=i.top+(i.height-o.height)/2,this.initialCropBox=t.extend({},o)},limitCropBox:function(t,e){var i,s,n,o,r=this.options,a=r.aspectRatio,l=this.container,h=l.width,c=l.height,d=this.canvas,u=this.cropBox,p=this.isLimited;t&&(i=B(r.minCropBoxWidth)||0,s=B(r.minCropBoxHeight)||0,i=I(i,h),s=I(s,c),n=I(h,p?d.width:h),o=I(c,p?d.height:c),a&&(i&&s?s*a>i?s=i/a:i=s*a:i?s=i/a:s&&(i=s*a),o*a>n?o=n/a:n=o*a),u.minWidth=I(i,n),u.minHeight=I(s,o),u.maxWidth=n,u.maxHeight=o),e&&(p?(u.minLeft=R(0,d.left),u.minTop=R(0,d.top),u.maxLeft=I(h,d.left+d.width)-u.width,u.maxTop=I(c,d.top+d.height)-u.height):(u.minLeft=0,u.minTop=0,u.maxLeft=h-u.width,u.maxTop=c-u.height))},renderCropBox:function(){var t=this.options,e=this.container,i=e.width,s=e.height,n=this.cropBox;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=I(R(n.width,n.minWidth),n.maxWidth),n.height=I(R(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.oldLeft=n.left=I(R(n.left,n.minLeft),n.maxLeft),n.oldTop=n.top=I(R(n.top,n.minTop),n.maxTop),t.movable&&t.cropBoxMovable&&this.$face.data("action",n.width===i&&n.height===s?"move":"all"),this.$cropBox.css({width:n.width,height:n.height,left:n.left,top:n.top}),this.isCropped&&this.isLimited&&this.limitCanvas(!0,!0),this.isDisabled||this.output()},output:function(){this.preview(),this.isCompleted&&this.trigger("crop.cropper",this.getData())},initPreview:function(){var e,i=a(this.crossOrigin),s=i?this.crossOriginUrl:this.url;this.$preview=t(this.options.preview),this.$clone2=e=t("<img"+i+' src="'+s+'">'),this.$viewBox.html(e),this.$preview.each(function(){var e=t(this);e.data("preview",{width:e.width(),height:e.height(),html:e.html()}),e.html("<img"+i+' src="'+s+'" style="display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;">')})},resetPreview:function(){this.$preview.each(function(){var e=t(this),i=e.data("preview");e.css({width:i.width,height:i.height}).html(i.html).removeData("preview")})},preview:function(){var e=this.image,i=this.canvas,s=this.cropBox,n=s.width,o=s.height,r=e.width,a=e.height,l=s.left-i.left-e.left,c=s.top-i.top-e.top;this.isCropped&&!this.isDisabled&&(this.$clone2.css({width:r,height:a,marginLeft:-l,marginTop:-c,transform:h(e)}),this.$preview.each(function(){var i=t(this),s=i.data("preview"),d=s.width,u=s.height,p=d,f=u,g=1;n&&(g=d/n,f=o*g),o&&f>u&&(g=u/o,p=n*g,f=u),i.css({width:p,height:f}).find("img").css({width:r*g,height:a*g,marginLeft:-l*g,marginTop:-c*g,transform:h(e)})}))},bind:function(){var e=this.options,i=this.$element,s=this.$cropper;t.isFunction(e.cropstart)&&i.on("cropstart.cropper",e.cropstart),t.isFunction(e.cropmove)&&i.on("cropmove.cropper",e.cropmove),t.isFunction(e.cropend)&&i.on("cropend.cropper",e.cropend),t.isFunction(e.crop)&&i.on("crop.cropper",e.crop),t.isFunction(e.zoom)&&i.on("zoom.cropper",e.zoom),s.on("mousedown touchstart pointerdown MSPointerDown",t.proxy(this.cropStart,this)),e.zoomable&&e.zoomOnWheel&&s.on("wheel mousewheel DOMMouseScroll",t.proxy(this.wheel,this)),e.toggleDragModeOnDblclick&&s.on("dblclick",t.proxy(this.dblclick,this)),w.on("mousemove touchmove pointermove MSPointerMove",this._cropMove=n(this.cropMove,this)).on(T,this._cropEnd=n(this.cropEnd,this)),e.responsive&&_.on("resize.cropper",this._resize=n(this.resize,this))},unbind:function(){var e=this.options,i=this.$element,s=this.$cropper;t.isFunction(e.cropstart)&&i.off("cropstart.cropper",e.cropstart),t.isFunction(e.cropmove)&&i.off("cropmove.cropper",e.cropmove),t.isFunction(e.cropend)&&i.off("cropend.cropper",e.cropend),t.isFunction(e.crop)&&i.off("crop.cropper",e.crop),t.isFunction(e.zoom)&&i.off("zoom.cropper",e.zoom),s.off("mousedown touchstart pointerdown MSPointerDown",this.cropStart),e.zoomable&&e.zoomOnWheel&&s.off("wheel mousewheel DOMMouseScroll",this.wheel),e.toggleDragModeOnDblclick&&s.off("dblclick",this.dblclick),w.off("mousemove touchmove pointermove MSPointerMove",this._cropMove).off(T,this._cropEnd),e.responsive&&_.off("resize.cropper",this._resize)},resize:function(){var e,i,s,n=this.options.restore,o=this.$container,r=this.container;!this.isDisabled&&r&&(1===(s=o.width()/r.width)&&o.height()===r.height||(n&&(e=this.getCanvasData(),i=this.getCropBoxData()),this.render(),n&&(this.setCanvasData(t.each(e,function(t,i){e[t]=i*s})),this.setCropBoxData(t.each(i,function(t,e){i[t]=e*s})))))},dblclick:function(){this.isDisabled||(this.$dragBox.hasClass("cropper-crop")?this.setDragMode("move"):this.setDragMode("crop"))},wheel:function(e){var i=e.originalEvent||e,s=B(this.options.wheelZoomRatio)||.1,n=1;this.isDisabled||(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(t.proxy(function(){this.wheeling=!1},this),50),i.deltaY?n=i.deltaY>0?1:-1:i.wheelDelta?n=-i.wheelDelta/120:i.detail&&(n=i.detail>0?1:-1),this.zoom(-n*s,e)))},cropStart:function(e){var i,s,n=this.options,o=e.originalEvent,r=o&&o.touches,a=e;if(!this.isDisabled){if(r){if((i=r.length)>1){if(!n.zoomable||!n.zoomOnTouch||2!==i)return;a=r[1],this.startX2=a.pageX,this.startY2=a.pageY,s="zoom"}a=r[0]}if(s=s||t(a.target).data("action"),E.test(s)){if(this.trigger("cropstart.cropper",{originalEvent:o,action:s}).isDefaultPrevented())return;e.preventDefault(),this.action=s,this.cropping=!1,this.startX=a.pageX||o&&o.pageX,this.startY=a.pageY||o&&o.pageY,"crop"===s&&(this.cropping=!0,this.$dragBox.addClass("cropper-modal"))}}},cropMove:function(t){var e,i=this.options,s=t.originalEvent,n=s&&s.touches,o=t,r=this.action;if(!this.isDisabled){if(n){if((e=n.length)>1){if(!i.zoomable||!i.zoomOnTouch||2!==e)return;o=n[1],this.endX2=o.pageX,this.endY2=o.pageY}o=n[0]}if(r){if(this.trigger("cropmove.cropper",{originalEvent:s,action:r}).isDefaultPrevented())return;t.preventDefault(),this.endX=o.pageX||s&&s.pageX,this.endY=o.pageY||s&&s.pageY,this.change(o.shiftKey,"zoom"===r?t:null)}}},cropEnd:function(t){var e=t.originalEvent,i=this.action;this.isDisabled||i&&(t.preventDefault(),this.cropping&&(this.cropping=!1,this.$dragBox.toggleClass("cropper-modal",this.isCropped&&this.options.modal)),this.action="",this.trigger("cropend.cropper",{originalEvent:e,action:i}))},change:function(t,e){var i,s,n=this.options,o=n.aspectRatio,r=this.action,a=this.container,l=this.canvas,h=this.cropBox,c=h.width,d=h.height,u=h.left,p=h.top,f=u+c,g=p+d,m=0,v=0,_=a.width,w=a.height,b=!0;switch(!o&&t&&(o=c&&d?c/d:1),this.isLimited&&(m=h.minLeft,v=h.minTop,_=m+I(a.width,l.left+l.width),w=v+I(a.height,l.top+l.height)),s={x:this.endX-this.startX,y:this.endY-this.startY},o&&(s.X=s.y*o,s.Y=s.x/o),r){case"all":u+=s.x,p+=s.y;break;case"e":if(s.x>=0&&(f>=_||o&&(p<=v||g>=w))){b=!1;break}c+=s.x,o&&(d=c/o,p-=s.Y/2),c<0&&(r="w",c=0);break;case"n":if(s.y<=0&&(p<=v||o&&(u<=m||f>=_))){b=!1;break}d-=s.y,p+=s.y,o&&(c=d*o,u+=s.X/2),d<0&&(r="s",d=0);break;case"w":
if(s.x<=0&&(u<=m||o&&(p<=v||g>=w))){b=!1;break}c-=s.x,u+=s.x,o&&(d=c/o,p+=s.Y/2),c<0&&(r="e",c=0);break;case"s":if(s.y>=0&&(g>=w||o&&(u<=m||f>=_))){b=!1;break}d+=s.y,o&&(c=d*o,u-=s.X/2),d<0&&(r="n",d=0);break;case"ne":if(o){if(s.y<=0&&(p<=v||f>=_)){b=!1;break}d-=s.y,p+=s.y,c=d*o}else s.x>=0?f<_?c+=s.x:s.y<=0&&p<=v&&(b=!1):c+=s.x,s.y<=0?p>v&&(d-=s.y,p+=s.y):(d-=s.y,p+=s.y);c<0&&d<0?(r="sw",d=0,c=0):c<0?(r="nw",c=0):d<0&&(r="se",d=0);break;case"nw":if(o){if(s.y<=0&&(p<=v||u<=m)){b=!1;break}d-=s.y,p+=s.y,c=d*o,u+=s.X}else s.x<=0?u>m?(c-=s.x,u+=s.x):s.y<=0&&p<=v&&(b=!1):(c-=s.x,u+=s.x),s.y<=0?p>v&&(d-=s.y,p+=s.y):(d-=s.y,p+=s.y);c<0&&d<0?(r="se",d=0,c=0):c<0?(r="ne",c=0):d<0&&(r="sw",d=0);break;case"sw":if(o){if(s.x<=0&&(u<=m||g>=w)){b=!1;break}c-=s.x,u+=s.x,d=c/o}else s.x<=0?u>m?(c-=s.x,u+=s.x):s.y>=0&&g>=w&&(b=!1):(c-=s.x,u+=s.x),s.y>=0?g<w&&(d+=s.y):d+=s.y;c<0&&d<0?(r="ne",d=0,c=0):c<0?(r="se",c=0):d<0&&(r="nw",d=0);break;case"se":if(o){if(s.x>=0&&(f>=_||g>=w)){b=!1;break}c+=s.x,d=c/o}else s.x>=0?f<_?c+=s.x:s.y>=0&&g>=w&&(b=!1):c+=s.x,s.y>=0?g<w&&(d+=s.y):d+=s.y;c<0&&d<0?(r="nw",d=0,c=0):c<0?(r="sw",c=0):d<0&&(r="ne",d=0);break;case"move":this.move(s.x,s.y),b=!1;break;case"zoom":this.zoom(function(t,e,i,s){var n=W(t*t+e*e);return(W(i*i+s*s)-n)/n}(N(this.startX-this.startX2),N(this.startY-this.startY2),N(this.endX-this.endX2),N(this.endY-this.endY2)),e),this.startX2=this.endX2,this.startY2=this.endY2,b=!1;break;case"crop":if(!s.x||!s.y){b=!1;break}i=this.$cropper.offset(),u=this.startX-i.left,p=this.startY-i.top,c=h.minWidth,d=h.minHeight,s.x>0?r=s.y>0?"se":"ne":s.x<0&&(u-=c,r=s.y>0?"sw":"nw"),s.y<0&&(p-=d),this.isCropped||(this.$cropBox.removeClass(D),this.isCropped=!0,this.isLimited&&this.limitCropBox(!0,!0))}b&&(h.width=c,h.height=d,h.left=u,h.top=p,this.action=r,this.renderCropBox()),this.startX=this.endX,this.startY=this.endY},crop:function(){this.isBuilt&&!this.isDisabled&&(this.isCropped||(this.isCropped=!0,this.limitCropBox(!0,!0),this.options.modal&&this.$dragBox.addClass("cropper-modal"),this.$cropBox.removeClass(D)),this.setCropBoxData(this.initialCropBox))},reset:function(){this.isBuilt&&!this.isDisabled&&(this.image=t.extend({},this.initialImage),this.canvas=t.extend({},this.initialCanvas),this.cropBox=t.extend({},this.initialCropBox),this.renderCanvas(),this.isCropped&&this.renderCropBox())},clear:function(){this.isCropped&&!this.isDisabled&&(t.extend(this.cropBox,{left:0,top:0,width:0,height:0}),this.isCropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),this.$dragBox.removeClass("cropper-modal"),this.$cropBox.addClass(D))},replace:function(t,e){!this.isDisabled&&t&&(this.isImg&&this.$element.attr("src",t),e?(this.url=t,this.$clone.attr("src",t),this.isBuilt&&this.$preview.find("img").add(this.$clone2).attr("src",t)):(this.isImg&&(this.isReplaced=!0),this.options.data=null,this.load(t)))},enable:function(){this.isBuilt&&(this.isDisabled=!1,this.$cropper.removeClass("cropper-disabled"))},disable:function(){this.isBuilt&&(this.isDisabled=!0,this.$cropper.addClass("cropper-disabled"))},destroy:function(){var t=this.$element;this.isLoaded?(this.isImg&&this.isReplaced&&t.attr("src",this.originalUrl),this.unbuild(),t.removeClass(D)):this.isImg?t.off("load.cropper",this.start):this.$clone&&this.$clone.remove(),t.removeData("cropper")},move:function(t,e){var s=this.canvas;this.moveTo(i(t)?t:s.left+B(t),i(e)?e:s.top+B(e))},moveTo:function(t,s){var n=this.canvas,o=!1;i(s)&&(s=t),t=B(t),s=B(s),this.isBuilt&&!this.isDisabled&&this.options.movable&&(e(t)&&(n.left=t,o=!0),e(s)&&(n.top=s,o=!0),o&&this.renderCanvas(!0))},zoom:function(t,e){var i=this.canvas;t=B(t),t=t<0?1/(1-t):1+t,this.zoomTo(i.width*t/i.naturalWidth,e)},zoomTo:function(t,e){var i,s,n,o,r,a=this.options,l=this.canvas,h=l.width,c=l.height,d=l.naturalWidth,p=l.naturalHeight;if((t=B(t))>=0&&this.isBuilt&&!this.isDisabled&&a.zoomable){if(s=d*t,n=p*t,e&&(i=e.originalEvent),this.trigger("zoom.cropper",{originalEvent:i,oldRatio:h/d,ratio:s/d}).isDefaultPrevented())return;i?(o=this.$cropper.offset(),r=i.touches?u(i.touches):{pageX:e.pageX||i.pageX||0,pageY:e.pageY||i.pageY||0},l.left-=(s-h)*((r.pageX-o.left-l.left)/h),l.top-=(n-c)*((r.pageY-o.top-l.top)/c)):(l.left-=(s-h)/2,l.top-=(n-c)/2),l.width=s,l.height=n,this.renderCanvas(!0)}},rotate:function(t){this.rotateTo((this.image.rotate||0)+B(t))},rotateTo:function(t){t=B(t),e(t)&&this.isBuilt&&!this.isDisabled&&this.options.rotatable&&(this.image.rotate=t%360,this.isRotated=!0,this.renderCanvas(!0))},scale:function(t,s){var n=this.image,o=!1;i(s)&&(s=t),t=B(t),s=B(s),this.isBuilt&&!this.isDisabled&&this.options.scalable&&(e(t)&&(n.scaleX=t,o=!0),e(s)&&(n.scaleY=s,o=!0),o&&this.renderImage(!0))},scaleX:function(t){var i=this.image.scaleY;this.scale(t,e(i)?i:1)},scaleY:function(t){var i=this.image.scaleX;this.scale(e(i)?i:1,t)},getData:function(e){var i,s,n=this.options,o=this.image,r=this.canvas,a=this.cropBox;return this.isBuilt&&this.isCropped?(s={x:a.left-r.left,y:a.top-r.top,width:a.width,height:a.height},i=o.width/o.naturalWidth,t.each(s,function(t,n){n/=i,s[t]=e?$(n):n})):s={x:0,y:0,width:0,height:0},n.rotatable&&(s.rotate=o.rotate||0),n.scalable&&(s.scaleX=o.scaleX||1,s.scaleY=o.scaleY||1),s},setData:function(i){var s,n,o,r=this.options,a=this.image,l=this.canvas,h={};t.isFunction(i)&&(i=i.call(this.element)),this.isBuilt&&!this.isDisabled&&t.isPlainObject(i)&&(r.rotatable&&e(i.rotate)&&i.rotate!==a.rotate&&(a.rotate=i.rotate,this.isRotated=s=!0),r.scalable&&(e(i.scaleX)&&i.scaleX!==a.scaleX&&(a.scaleX=i.scaleX,n=!0),e(i.scaleY)&&i.scaleY!==a.scaleY&&(a.scaleY=i.scaleY,n=!0)),s?this.renderCanvas():n&&this.renderImage(),o=a.width/a.naturalWidth,e(i.x)&&(h.left=i.x*o+l.left),e(i.y)&&(h.top=i.y*o+l.top),e(i.width)&&(h.width=i.width*o),e(i.height)&&(h.height=i.height*o),this.setCropBoxData(h))},getContainerData:function(){return this.isBuilt?this.container:{}},getImageData:function(){return this.isLoaded?this.image:{}},getCanvasData:function(){var e=this.canvas,i={};return this.isBuilt&&t.each(["left","top","width","height","naturalWidth","naturalHeight"],function(t,s){i[s]=e[s]}),i},setCanvasData:function(i){var s=this.canvas,n=s.aspectRatio;t.isFunction(i)&&(i=i.call(this.$element)),this.isBuilt&&!this.isDisabled&&t.isPlainObject(i)&&(e(i.left)&&(s.left=i.left),e(i.top)&&(s.top=i.top),e(i.width)?(s.width=i.width,s.height=i.width/n):e(i.height)&&(s.height=i.height,s.width=i.height*n),this.renderCanvas(!0))},getCropBoxData:function(){var t,e=this.cropBox;return this.isBuilt&&this.isCropped&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCropBoxData:function(i){var s,n,o=this.cropBox,r=this.options.aspectRatio;t.isFunction(i)&&(i=i.call(this.$element)),this.isBuilt&&this.isCropped&&!this.isDisabled&&t.isPlainObject(i)&&(e(i.left)&&(o.left=i.left),e(i.top)&&(o.top=i.top),e(i.width)&&(s=!0,o.width=i.width),e(i.height)&&(n=!0,o.height=i.height),r&&(s?o.height=o.width/r:n&&(o.width=o.height*r)),this.renderCropBox())},getCroppedCanvas:function(e){var i,s,n,o,r,a,l,h,c,u,p;if(this.isBuilt&&A)return this.isCropped?(t.isPlainObject(e)||(e={}),p=this.getData(),i=p.width,s=p.height,h=i/s,t.isPlainObject(e)&&(r=e.width,a=e.height,r?(a=r/h,l=r/i):a&&(r=a*h,l=a/s)),n=P(r||i),o=P(a||s),c=t("<canvas>")[0],c.width=n,c.height=o,u=c.getContext("2d"),e.fillColor&&(u.fillStyle=e.fillColor,u.fillRect(0,0,n,o)),u.drawImage.apply(u,function(){var t,e,n,o,r,a,h=d(this.$clone[0],this.image),c=h.width,u=h.height,f=this.canvas,g=[h],m=p.x+f.naturalWidth*(N(p.scaleX||1)-1)/2,v=p.y+f.naturalHeight*(N(p.scaleY||1)-1)/2;return m<=-i||m>c?m=t=n=r=0:m<=0?(n=-m,m=0,t=r=I(c,i+m)):m<=c&&(n=0,t=r=I(i,c-m)),t<=0||v<=-s||v>u?v=e=o=a=0:v<=0?(o=-v,v=0,e=a=I(u,s+v)):v<=u&&(o=0,e=a=I(s,u-v)),g.push(P(m),P(v),P(t),P(e)),l&&(n*=l,o*=l,r*=l,a*=l),r>0&&a>0&&g.push(P(n),P(o),P(r),P(a)),g}.call(this)),c):d(this.$clone[0],this.image)},setAspectRatio:function(t){var e=this.options;this.isDisabled||i(t)||(e.aspectRatio=R(0,t)||NaN,this.isBuilt&&(this.initCropBox(),this.isCropped&&this.renderCropBox()))},setDragMode:function(t){var e,i,s=this.options;this.isLoaded&&!this.isDisabled&&(e="crop"===t,i=s.movable&&"move"===t,t=e||i?t:"none",this.$dragBox.data("action",t).toggleClass("cropper-crop",e).toggleClass("cropper-move",i),s.cropBoxMovable||this.$face.data("action",t).toggleClass("cropper-crop",e).toggleClass("cropper-move",i))}},v.DEFAULTS={viewMode:0,dragMode:"crop",aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,build:null,built:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},v.setDefaults=function(e){t.extend(v.DEFAULTS,e)},v.TEMPLATE='<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>',v.other=t.fn.cropper,t.fn.cropper=function(e){var n,o=s(arguments,1);return this.each(function(){var i,s,r=t(this),a=r.data("cropper");if(!a){if(/destroy/.test(e))return;i=t.extend({},r.data(),t.isPlainObject(e)&&e),r.data("cropper",a=new v(this,i))}"string"==typeof e&&t.isFunction(s=a[e])&&(n=s.apply(a,o))}),i(n)?this:n},t.fn.cropper.Constructor=v,t.fn.cropper.setDefaults=v.setDefaults,t.fn.cropper.noConflict=function(){return t.fn.cropper=v.other,this}}),function(){var t,e,i,s,n,o,r,a,l=[].slice,h={}.hasOwnProperty,c=function(t,e){function i(){this.constructor=t}for(var s in e)h.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};r=function(){},e=function(){function t(){}return t.prototype.addEventListener=t.prototype.on,t.prototype.on=function(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this},t.prototype.emit=function(){var t,e,i,s,n,o;if(s=arguments[0],t=2<=arguments.length?l.call(arguments,1):[],this._callbacks=this._callbacks||{},i=this._callbacks[s])for(n=0,o=i.length;n<o;n++)e=i[n],e.apply(this,t);return this},t.prototype.removeListener=t.prototype.off,t.prototype.removeAllListeners=t.prototype.off,t.prototype.removeEventListener=t.prototype.off,t.prototype.off=function(t,e){var i,s,n,o;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(!(i=this._callbacks[t]))return this;if(1===arguments.length)return delete this._callbacks[t],this;for(s=n=0,o=i.length;n<o;s=++n)if(i[s]===e){i.splice(s,1);break}return this},t}(),t=function(t){function i(t,e){var n,o,r;if(this.element=t,this.version=i.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(i.instances.push(this),this.element.dropzone=this,n=null!=(r=i.optionsForElement(this.element))?r:{},this.options=s({},this.defaultOptions,n,null!=e?e:{}),this.options.forceFallback||!i.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(o=this.getExistingFallback())&&o.parentNode&&o.parentNode.removeChild(o),!1!==this.options.previewsContainer&&(this.options.previewsContainer?this.previewsContainer=i.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(!0===this.options.clickable?this.clickableElements=[this.element]:this.clickableElements=i.getElements(this.options.clickable,"clickable")),this.init()}var s,n;return c(i,t),i.prototype.Emitter=e,i.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],i.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(t,e){return e()},init:function(){return r},forceFallback:!1,fallback:function(){var t,e,s,n,o,r;for(this.element.className=this.element.className+" dz-browser-not-supported",r=this.element.getElementsByTagName("div"),n=0,o=r.length;n<o;n++)t=r[n],/(^| )dz-message($| )/.test(t.className)&&(e=t,t.className="dz-message");return e||(e=i.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e)),s=e.getElementsByTagName("span")[0],s&&(null!=s.textContent?s.textContent=this.options.dictFallbackMessage:null!=s.innerText&&(s.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(t){var e,i,s;return e={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},i=t.width/t.height,e.optWidth=this.options.thumbnailWidth,e.optHeight=this.options.thumbnailHeight,null==e.optWidth&&null==e.optHeight?(e.optWidth=e.srcWidth,e.optHeight=e.srcHeight):null==e.optWidth?e.optWidth=i*e.optHeight:null==e.optHeight&&(e.optHeight=1/i*e.optWidth),s=e.optWidth/e.optHeight,t.height<e.optHeight||t.width<e.optWidth?(e.trgHeight=e.srcHeight,e.trgWidth=e.srcWidth):i>s?(e.srcHeight=t.height,e.srcWidth=e.srcHeight*s):(e.srcWidth=t.width,e.srcHeight=e.srcWidth/s),e.srcX=(t.width-e.srcWidth)/2,e.srcY=(t.height-e.srcHeight)/2,e},drop:function(t){return this.element.classList.remove("dz-drag-hover")},dragstart:r,dragend:function(t){return this.element.classList.remove("dz-drag-hover")},dragenter:function(t){return this.element.classList.add("dz-drag-hover")},dragover:function(t){return this.element.classList.add("dz-drag-hover")},dragleave:function(t){return this.element.classList.remove("dz-drag-hover")},paste:r,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var e,s,n,o,r,a,l,h,c,d,u,p,f;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(t.previewElement=i.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement),d=t.previewElement.querySelectorAll("[data-dz-name]"),o=0,l=d.length;o<l;o++)e=d[o],e.textContent=this._renameFilename(t.name);for(u=t.previewElement.querySelectorAll("[data-dz-size]"),r=0,h=u.length;r<h;r++)e=u[r],e.innerHTML=this.filesize(t.size);for(this.options.addRemoveLinks&&(t._removeLink=i.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),t.previewElement.appendChild(t._removeLink)),s=function(e){return function(s){return s.preventDefault(),s.stopPropagation(),t.status===i.UPLOADING?i.confirm(e.options.dictCancelUploadConfirmation,function(){return e.removeFile(t)}):e.options.dictRemoveFileConfirmation?i.confirm(e.options.dictRemoveFileConfirmation,function(){return e.removeFile(t)}):e.removeFile(t)}}(this),p=t.previewElement.querySelectorAll("[data-dz-remove]"),f=[],a=0,c=p.length;a<c;a++)n=p[a],f.push(n.addEventListener("click",s));return f}},removedfile:function(t){var e;return t.previewElement&&null!=(e=t.previewElement)&&e.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){var i,s,n,o;if(t.previewElement){for(t.previewElement.classList.remove("dz-file-preview"),o=t.previewElement.querySelectorAll("[data-dz-thumbnail]"),s=0,n=o.length;s<n;s++)i=o[s],i.alt=t.name,i.src=e;return setTimeout(function(e){return function(){return t.previewElement.classList.add("dz-image-preview")}}(),1)}},error:function(t,e){var i,s,n,o,r;if(t.previewElement){for(t.previewElement.classList.add("dz-error"),"String"!=typeof e&&e.error&&(e=e.error),o=t.previewElement.querySelectorAll("[data-dz-errormessage]"),r=[],s=0,n=o.length;s<n;s++)i=o[s],r.push(i.textContent=e);return r}},errormultiple:r,processing:function(t){if(t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink))return t._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:r,uploadprogress:function(t,e,i){var s,n,o,r,a;if(t.previewElement){for(r=t.previewElement.querySelectorAll("[data-dz-uploadprogress]"),a=[],n=0,o=r.length;n<o;n++)s=r[n],"PROGRESS"===s.nodeName?a.push(s.value=e):a.push(s.style.width=e+"%");return a}},totaluploadprogress:r,sending:r,sendingmultiple:r,success:function(t){if(t.previewElement)return t.previewElement.classList.add("dz-success")},successmultiple:r,canceled:function(t){return this.emit("error",t,"Upload canceled.")},canceledmultiple:r,complete:function(t){if(t._removeLink&&(t._removeLink.textContent=this.options.dictRemoveFile),t.previewElement)return t.previewElement.classList.add("dz-complete")},completemultiple:r,maxfilesexceeded:r,maxfilesreached:r,queuecomplete:r,addedfiles:r,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},s=function(){var t,e,i,s,n,o,r;for(s=arguments[0],i=2<=arguments.length?l.call(arguments,1):[],o=0,r=i.length;o<r;o++){e=i[o];for(t in e)n=e[t],s[t]=n}return s},i.prototype.getAcceptedFiles=function(){var t,e,i,s,n;for(s=this.files,n=[],e=0,i=s.length;e<i;e++)t=s[e],t.accepted&&n.push(t);return n},i.prototype.getRejectedFiles=function(){var t,e,i,s,n;for(s=this.files,n=[],e=0,i=s.length;e<i;e++)t=s[e],t.accepted||n.push(t);return n},i.prototype.getFilesWithStatus=function(t){var e,i,s,n,o;for(n=this.files,o=[],i=0,s=n.length;i<s;i++)e=n[i],e.status===t&&o.push(e);return o},i.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(i.QUEUED)},i.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(i.UPLOADING)},i.prototype.getAddedFiles=function(){return this.getFilesWithStatus(i.ADDED)},i.prototype.getActiveFiles=function(){var t,e,s,n,o;for(n=this.files,o=[],e=0,s=n.length;e<s;e++)t=n[e],t.status!==i.UPLOADING&&t.status!==i.QUEUED||o.push(t);return o},i.prototype.init=function(){var t,e,s,n,o,r,a;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(i.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(s=function(t){return function(){return t.hiddenFileInput&&t.hiddenFileInput.parentNode.removeChild(t.hiddenFileInput),t.hiddenFileInput=document.createElement("input"),t.hiddenFileInput.setAttribute("type","file"),(null==t.options.maxFiles||t.options.maxFiles>1)&&t.hiddenFileInput.setAttribute("multiple","multiple"),t.hiddenFileInput.className="dz-hidden-input",null!=t.options.acceptedFiles&&t.hiddenFileInput.setAttribute("accept",t.options.acceptedFiles),null!=t.options.capture&&t.hiddenFileInput.setAttribute("capture",t.options.capture),t.hiddenFileInput.style.visibility="hidden",t.hiddenFileInput.style.position="absolute",t.hiddenFileInput.style.top="0",t.hiddenFileInput.style.left="0",t.hiddenFileInput.style.height="0",t.hiddenFileInput.style.width="0",document.querySelector(t.options.hiddenInputContainer).appendChild(t.hiddenFileInput),t.hiddenFileInput.addEventListener("change",function(){var e,i,n,o;if(i=t.hiddenFileInput.files,i.length)for(n=0,o=i.length;n<o;n++)e=i[n],t.addFile(e);return t.emit("addedfiles",i),s()})}}(this))(),this.URL=null!=(r=window.URL)?r:window.webkitURL,a=this.events,n=0,o=a.length;n<o;n++)t=a[n],this.on(t,this.options[t]);return this.on("uploadprogress",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("canceled",function(t){return function(e){return t.emit("complete",e)}}(this)),this.on("complete",function(t){return function(e){if(0===t.getAddedFiles().length&&0===t.getUploadingFiles().length&&0===t.getQueuedFiles().length)return setTimeout(function(){return t.emit("queuecomplete")},0)}}(this)),e=function(t){return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(t){return function(e){return t.emit("dragstart",e)}}(this),dragenter:function(t){return function(i){return e(i),t.emit("dragenter",i)}}(this),dragover:function(t){return function(i){var s;try{s=i.dataTransfer.effectAllowed}catch(t){}return i.dataTransfer.dropEffect="move"===s||"linkMove"===s?"move":"copy",e(i),t.emit("dragover",i)}}(this),dragleave:function(t){return function(e){return t.emit("dragleave",e)}}(this),drop:function(t){return function(i){return e(i),t.drop(i)}}(this),dragend:function(t){return function(e){return t.emit("dragend",e)}}(this)}}],this.clickableElements.forEach(function(t){return function(e){return t.listeners.push({element:e,events:{click:function(s){return(e!==t.element||s.target===t.element||i.elementInside(s.target,t.element.querySelector(".dz-message")))&&t.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},i.prototype.destroy=function(){var t;return this.disable(),this.removeAllFiles(!0),(null!=(t=this.hiddenFileInput)?t.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,i.instances.splice(i.instances.indexOf(this),1)},i.prototype.updateTotalUploadProgress=function(){var t,e,i,s,n,o,r,a;if(s=0,i=0,t=this.getActiveFiles(),t.length){for(a=this.getActiveFiles(),o=0,r=a.length;o<r;o++)e=a[o],s+=e.upload.bytesSent,i+=e.upload.total;n=100*s/i}else n=100;return this.emit("totaluploadprogress",n,i,s)},i.prototype._getParamName=function(t){return"function"==typeof this.options.paramName?this.options.paramName(t):this.options.paramName+(this.options.uploadMultiple?"["+t+"]":"")},i.prototype._renameFilename=function(t){return"function"!=typeof this.options.renameFilename?t:this.options.renameFilename(t)},i.prototype.getFallbackForm=function(){var t,e,s,n;return(t=this.getExistingFallback())?t:(s='<div class="dz-fallback">',this.options.dictFallbackText&&(s+="<p>"+this.options.dictFallbackText+"</p>"),s+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',e=i.createElement(s),"FORM"!==this.element.tagName?(n=i.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),n.appendChild(e)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=n?n:e)},i.prototype.getExistingFallback=function(){var t,e,i,s,n,o;for(e=function(t){var e,i,s;for(i=0,s=t.length;i<s;i++)if(e=t[i],/(^| )fallback($| )/.test(e.className))return e},o=["div","form"],s=0,n=o.length;s<n;s++)if(i=o[s],t=e(this.element.getElementsByTagName(i)))return t},i.prototype.setupEventListeners=function(){var t,e,i,s,n,o,r;for(o=this.listeners,r=[],s=0,n=o.length;s<n;s++)t=o[s],r.push(function(){var s,n;s=t.events,n=[];for(e in s)i=s[e],n.push(t.element.addEventListener(e,i,!1));return n}());return r},i.prototype.removeEventListeners=function(){var t,e,i,s,n,o,r;for(o=this.listeners,r=[],s=0,n=o.length;s<n;s++)t=o[s],r.push(function(){var s,n;s=t.events,n=[];for(e in s)i=s[e],n.push(t.element.removeEventListener(e,i,!1));return n}());return r},i.prototype.disable=function(){var t,e,i,s,n;for(this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")}),this.removeEventListeners(),s=this.files,n=[],e=0,i=s.length;e<i;e++)t=s[e],n.push(this.cancelUpload(t));return n},i.prototype.enable=function(){return this.clickableElements.forEach(function(t){return t.classList.add("dz-clickable")}),this.setupEventListeners()},i.prototype.filesize=function(t){var e,i,s,n,o,r,a,l;if(s=0,n="b",t>0){for(r=["TB","GB","MB","KB","b"],i=a=0,l=r.length;a<l;i=++a)if(o=r[i],e=Math.pow(this.options.filesizeBase,4-i)/10,t>=e){s=t/Math.pow(this.options.filesizeBase,4-i),n=o;break}s=Math.round(10*s)/10}return"<strong>"+s+"</strong> "+n},i.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},i.prototype.drop=function(t){var e,i;t.dataTransfer&&(this.emit("drop",t),e=t.dataTransfer.files,this.emit("addedfiles",e),e.length&&(i=t.dataTransfer.items,i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(e)))},i.prototype.paste=function(t){var e,i;if(null!=(null!=t&&null!=(i=t.clipboardData)?i.items:void 0))return this.emit("paste",t),e=t.clipboardData.items,e.length?this._addFilesFromItems(e):void 0},i.prototype.handleFiles=function(t){var e,i,s,n;for(n=[],i=0,s=t.length;i<s;i++)e=t[i],n.push(this.addFile(e));return n},i.prototype._addFilesFromItems=function(t){var e,i,s,n,o;for(o=[],s=0,n=t.length;s<n;s++)i=t[s],null!=i.webkitGetAsEntry&&(e=i.webkitGetAsEntry())?e.isFile?o.push(this.addFile(i.getAsFile())):e.isDirectory?o.push(this._addFilesFromDirectory(e,e.name)):o.push(void 0):null!=i.getAsFile&&(null==i.kind||"file"===i.kind)?o.push(this.addFile(i.getAsFile())):o.push(void 0);return o},i.prototype._addFilesFromDirectory=function(t,e){var i,s,n;return i=t.createReader(),s=function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(t):void 0},(n=function(t){return function(){return i.readEntries(function(i){var s,o,r;if(i.length>0){for(o=0,r=i.length;o<r;o++)s=i[o],s.isFile?s.file(function(i){if(!t.options.ignoreHiddenFiles||"."!==i.name.substring(0,1))return i.fullPath=e+"/"+i.name,t.addFile(i)}):s.isDirectory&&t._addFilesFromDirectory(s,e+"/"+s.name);n()}return null},s)}}(this))()},i.prototype.accept=function(t,e){
return t.size>1024*this.options.maxFilesize*1024?e(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):i.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(e(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,e):e(this.options.dictInvalidFileType)},i.prototype.addFile=function(t){return t.upload={progress:0,total:t.size,bytesSent:0},this.files.push(t),t.status=i.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,function(e){return function(i){return i?(t.accepted=!1,e._errorProcessing([t],i)):(t.accepted=!0,e.options.autoQueue&&e.enqueueFile(t)),e._updateMaxFilesReachedClass()}}(this))},i.prototype.enqueueFiles=function(t){var e,i,s;for(i=0,s=t.length;i<s;i++)e=t[i],this.enqueueFile(e);return null},i.prototype.enqueueFile=function(t){if(t.status!==i.ADDED||!0!==t.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(t.status=i.QUEUED,this.options.autoProcessQueue)return setTimeout(function(t){return function(){return t.processQueue()}}(this),0)},i.prototype._thumbnailQueue=[],i.prototype._processingThumbnail=!1,i.prototype._enqueueThumbnail=function(t){if(this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(t),setTimeout(function(t){return function(){return t._processThumbnailQueue()}}(this),0)},i.prototype._processThumbnailQueue=function(){if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(t){return function(){return t._processingThumbnail=!1,t._processThumbnailQueue()}}(this))},i.prototype.removeFile=function(t){if(t.status===i.UPLOADING&&this.cancelUpload(t),this.files=a(this.files,t),this.emit("removedfile",t),0===this.files.length)return this.emit("reset")},i.prototype.removeAllFiles=function(t){var e,s,n,o;for(null==t&&(t=!1),o=this.files.slice(),s=0,n=o.length;s<n;s++)e=o[s],(e.status!==i.UPLOADING||t)&&this.removeFile(e);return null},i.prototype.createThumbnail=function(t,e){var i;return i=new FileReader,i.onload=function(s){return function(){return"image/svg+xml"===t.type?(s.emit("thumbnail",t,i.result),void(null!=e&&e())):s.createThumbnailFromUrl(t,i.result,e)}}(this),i.readAsDataURL(t)},i.prototype.createThumbnailFromUrl=function(t,e,i,s){var n;return n=document.createElement("img"),s&&(n.crossOrigin=s),n.onload=function(e){return function(){var s,r,a,l,h,c,d,u;if(t.width=n.width,t.height=n.height,a=e.options.resize.call(e,t),null==a.trgWidth&&(a.trgWidth=a.optWidth),null==a.trgHeight&&(a.trgHeight=a.optHeight),s=document.createElement("canvas"),r=s.getContext("2d"),s.width=a.trgWidth,s.height=a.trgHeight,o(r,n,null!=(h=a.srcX)?h:0,null!=(c=a.srcY)?c:0,a.srcWidth,a.srcHeight,null!=(d=a.trgX)?d:0,null!=(u=a.trgY)?u:0,a.trgWidth,a.trgHeight),l=s.toDataURL("image/png"),e.emit("thumbnail",t,l),null!=i)return i()}}(this),null!=i&&(n.onerror=i),n.src=e},i.prototype.processQueue=function(){var t,e,i,s;if(e=this.options.parallelUploads,i=this.getUploadingFiles().length,t=i,!(i>=e)&&(s=this.getQueuedFiles(),s.length>0)){if(this.options.uploadMultiple)return this.processFiles(s.slice(0,e-i));for(;t<e;){if(!s.length)return;this.processFile(s.shift()),t++}}},i.prototype.processFile=function(t){return this.processFiles([t])},i.prototype.processFiles=function(t){var e,s,n;for(s=0,n=t.length;s<n;s++)e=t[s],e.processing=!0,e.status=i.UPLOADING,this.emit("processing",e);return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)},i.prototype._getFilesWithXhr=function(t){var e;return function(){var i,s,n,o;for(n=this.files,o=[],i=0,s=n.length;i<s;i++)e=n[i],e.xhr===t&&o.push(e);return o}.call(this)},i.prototype.cancelUpload=function(t){var e,s,n,o,r,a,l;if(t.status===i.UPLOADING){for(s=this._getFilesWithXhr(t.xhr),n=0,r=s.length;n<r;n++)e=s[n],e.status=i.CANCELED;for(t.xhr.abort(),o=0,a=s.length;o<a;o++)e=s[o],this.emit("canceled",e);this.options.uploadMultiple&&this.emit("canceledmultiple",s)}else(l=t.status)!==i.ADDED&&l!==i.QUEUED||(t.status=i.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));if(this.options.autoProcessQueue)return this.processQueue()},n=function(){var t,e;return e=arguments[0],t=2<=arguments.length?l.call(arguments,1):[],"function"==typeof e?e.apply(this,t):e},i.prototype.uploadFile=function(t){return this.uploadFiles([t])},i.prototype.uploadFiles=function(t){var e,o,r,a,l,h,c,d,u,p,f,g,m,v,_,w,b,y,x,C,F,k,D,T,E,z,L,S,A,M,B,I,R,N;for(x=new XMLHttpRequest,C=0,T=t.length;C<T;C++)e=t[C],e.xhr=x;g=n(this.options.method,t),b=n(this.options.url,t),x.open(g,b,!0),x.withCredentials=!!this.options.withCredentials,_=null,r=function(i){return function(){var s,n,o;for(o=[],s=0,n=t.length;s<n;s++)e=t[s],o.push(i._errorProcessing(t,_||i.options.dictResponseError.replace("{{statusCode}}",x.status),x));return o}}(this),w=function(i){return function(s){var n,o,r,a,l,h,c,d,u;if(null!=s)for(o=100*s.loaded/s.total,r=0,h=t.length;r<h;r++)e=t[r],e.upload={progress:o,total:s.total,bytesSent:s.loaded};else{for(n=!0,o=100,a=0,c=t.length;a<c;a++)e=t[a],100===e.upload.progress&&e.upload.bytesSent===e.upload.total||(n=!1),e.upload.progress=o,e.upload.bytesSent=e.upload.total;if(n)return}for(u=[],l=0,d=t.length;l<d;l++)e=t[l],u.push(i.emit("uploadprogress",e,o,e.upload.bytesSent));return u}}(this),x.onload=function(e){return function(s){var n;if(t[0].status!==i.CANCELED&&4===x.readyState){if(_=x.responseText,x.getResponseHeader("content-type")&&~x.getResponseHeader("content-type").indexOf("application/json"))try{_=JSON.parse(_)}catch(t){s=t,_="Invalid JSON response from server."}return w(),200<=(n=x.status)&&n<300?e._finished(t,_,s):r()}}}(this),x.onerror=function(e){return function(){if(t[0].status!==i.CANCELED)return r()}}(),v=null!=(A=x.upload)?A:x,v.onprogress=w,h={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&s(h,this.options.headers);for(a in h)(l=h[a])&&x.setRequestHeader(a,l);if(o=new FormData,this.options.params){M=this.options.params;for(f in M)y=M[f],o.append(f,y)}for(F=0,E=t.length;F<E;F++)e=t[F],this.emit("sending",e,x,o);if(this.options.uploadMultiple&&this.emit("sendingmultiple",t,x,o),"FORM"===this.element.tagName)for(B=this.element.querySelectorAll("input, textarea, select, button"),k=0,z=B.length;k<z;k++)if(d=B[k],u=d.getAttribute("name"),p=d.getAttribute("type"),"SELECT"===d.tagName&&d.hasAttribute("multiple"))for(I=d.options,D=0,L=I.length;D<L;D++)m=I[D],m.selected&&o.append(u,m.value);else(!p||"checkbox"!==(R=p.toLowerCase())&&"radio"!==R||d.checked)&&o.append(u,d.value);for(c=S=0,N=t.length-1;0<=N?S<=N:S>=N;c=0<=N?++S:--S)o.append(this._getParamName(c),t[c],this._renameFilename(t[c].name));return this.submitRequest(x,o,t)},i.prototype.submitRequest=function(t,e,i){return t.send(e)},i.prototype._finished=function(t,e,s){var n,o,r;for(o=0,r=t.length;o<r;o++)n=t[o],n.status=i.SUCCESS,this.emit("success",n,e,s),this.emit("complete",n);if(this.options.uploadMultiple&&(this.emit("successmultiple",t,e,s),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()},i.prototype._errorProcessing=function(t,e,s){var n,o,r;for(o=0,r=t.length;o<r;o++)n=t[o],n.status=i.ERROR,this.emit("error",n,e,s),this.emit("complete",n);if(this.options.uploadMultiple&&(this.emit("errormultiple",t,e,s),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()},i}(e),t.version="4.3.0",t.options={},t.optionsForElement=function(e){return e.getAttribute("id")?t.options[i(e.getAttribute("id"))]:void 0},t.instances=[],t.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},t.autoDiscover=!0,t.discover=function(){var e,i,s,n,o,r;for(document.querySelectorAll?s=document.querySelectorAll(".dropzone"):(s=[],e=function(t){var e,i,n,o;for(o=[],i=0,n=t.length;i<n;i++)e=t[i],/(^| )dropzone($| )/.test(e.className)?o.push(s.push(e)):o.push(void 0);return o},e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),r=[],n=0,o=s.length;n<o;n++)i=s[n],!1!==t.optionsForElement(i)?r.push(new t(i)):r.push(void 0);return r},t.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],t.isBrowserSupported=function(){var e,i,s,n,o;if(e=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(o=t.blacklistedBrowsers,s=0,n=o.length;s<n;s++)i=o[s],i.test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e},a=function(t,e){var i,s,n,o;for(o=[],s=0,n=t.length;s<n;s++)(i=t[s])!==e&&o.push(i);return o},i=function(t){return t.replace(/[\-_](\w)/g,function(t){return t.charAt(1).toUpperCase()})},t.createElement=function(t){var e;return e=document.createElement("div"),e.innerHTML=t,e.childNodes[0]},t.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},t.getElement=function(t,e){var i;if("string"==typeof t?i=document.querySelector(t):null!=t.nodeType&&(i=t),null==i)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},t.getElements=function(t,e){var i,s,n,o,r,a,l;if(t instanceof Array){s=[];try{for(n=0,r=t.length;n<r;n++)i=t[n],s.push(this.getElement(i,e))}catch(t){t,s=null}}else if("string"==typeof t)for(s=[],l=document.querySelectorAll(t),o=0,a=l.length;o<a;o++)i=l[o],s.push(i);else null!=t.nodeType&&(s=[t]);if(null==s||!s.length)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return s},t.confirm=function(t,e,i){return window.confirm(t)?e():null!=i?i():void 0},t.isValidFile=function(t,e){var i,s,n,o,r;if(!e)return!0;for(e=e.split(","),s=t.type,i=s.replace(/\/.*$/,""),o=0,r=e.length;o<r;o++)if(n=e[o],n=n.trim(),"."===n.charAt(0)){if(-1!==t.name.toLowerCase().indexOf(n.toLowerCase(),t.name.length-n.length))return!0}else if(/\/\*$/.test(n)){if(i===n.replace(/\/.*$/,""))return!0}else if(s===n)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new t(this,e)})}),"undefined"!=typeof module&&null!==module?module.exports=t:window.Dropzone=t,t.ADDED="added",t.QUEUED="queued",t.ACCEPTED=t.QUEUED,t.UPLOADING="uploading",t.PROCESSING=t.UPLOADING,t.CANCELED="canceled",t.ERROR="error",t.SUCCESS="success",n=function(t){var e,i,s,n,o,r,a,l,h;for(t.naturalWidth,r=t.naturalHeight,i=document.createElement("canvas"),i.width=1,i.height=r,s=i.getContext("2d"),s.drawImage(t,0,0),n=s.getImageData(0,0,1,r).data,h=0,o=r,a=r;a>h;)e=n[4*(a-1)+3],0===e?o=a:h=a,a=o+h>>1;return l=a/r,0===l?1:l},o=function(t,e,i,s,o,r,a,l,h,c){var d;return d=n(e),t.drawImage(e,i,s,o,r,a,l,h,c/d)},s=function(t,e){var i,s,n,o,r,a,l,h,c;if(n=!1,c=!0,s=t.document,h=s.documentElement,i=s.addEventListener?"addEventListener":"attachEvent",l=s.addEventListener?"removeEventListener":"detachEvent",a=s.addEventListener?"":"on",o=function(i){if("readystatechange"!==i.type||"complete"===s.readyState)return("load"===i.type?t:s)[l](a+i.type,o,!1),!n&&(n=!0)?e.call(t,i.type||i):void 0},r=function(){try{h.doScroll("left")}catch(t){return t,void setTimeout(r,50)}return o("poll")},"complete"!==s.readyState){if(s.createEventObject&&h.doScroll){try{c=!t.frameElement}catch(t){}c&&r()}return s[i](a+"DOMContentLoaded",o,!1),s[i](a+"readystatechange",o,!1),t[i](a+"load",o,!1)}},t._autoDiscoverFunction=function(){if(t.autoDiscover)return t.discover()},s(window,t._autoDiscoverFunction)}.call(this),function(t,e,i){function s(i,s,n){var o=e.createElement(i);return s&&(o.id=J+s),n&&(o.style.cssText=n),t(o)}function n(){return i.innerHeight?i.innerHeight:t(i).height()}function o(e,i){i!==Object(i)&&(i={}),this.cache={},this.el=e,this.value=function(e){var s;return void 0===this.cache[e]&&(s=t(this.el).attr("data-cbox-"+e),void 0!==s?this.cache[e]=s:void 0!==i[e]?this.cache[e]=i[e]:void 0!==V[e]&&(this.cache[e]=V[e])),this.cache[e]},this.get=function(e){var i=this.value(e);return t.isFunction(i)?i.call(this.el,this):i}}function r(t){var e=D.length,i=(U+t)%e;return i<0?e+i:i}function a(t,e){return Math.round((/%/.test(t)?("x"===e?T.width():n())/100:1)*parseInt(t,10))}function l(t,e){return t.get("photo")||t.get("photoRegex").test(e)}function h(t,e){return t.get("retinaUrl")&&i.devicePixelRatio>1?e.replace(t.get("photoRegex"),t.get("retinaSuffix")):e}function c(t){"contains"in w[0]&&!w[0].contains(t.target)&&t.target!==_[0]&&(t.stopPropagation(),w.focus())}function d(t){d.str!==t&&(w.add(_).removeClass(d.str).addClass(t),d.str=t)}function u(e){U=0,e&&!1!==e&&"nofollow"!==e?(D=t("."+tt).filter(function(){return new o(this,t.data(this,Z)).get("rel")===e}),-1===(U=D.index(O.el))&&(D=D.add(O.el),U=D.length-1)):D=t(O.el)}function p(i){t(e).trigger(i),at.triggerHandler(i)}function f(i){var n;if(!X){if(n=t(i).data(Z),O=new o(i,n),u(O.get("rel")),!q){q=Y=!0,d(O.get("className")),w.css({visibility:"hidden",display:"block",opacity:""}),E=s(lt,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),y.css({width:"",height:""}).append(E),H=x.height()+k.height()+y.outerHeight(!0)-y.height(),W=C.width()+F.width()+y.outerWidth(!0)-y.width(),$=E.outerHeight(!0),P=E.outerWidth(!0);var r=a(O.get("initialWidth"),"x"),l=a(O.get("initialHeight"),"y"),h=O.get("maxWidth"),f=O.get("maxHeight");O.w=Math.max((!1!==h?Math.min(r,a(h,"x")):r)-P-W,0),O.h=Math.max((!1!==f?Math.min(l,a(f,"y")):l)-$-H,0),E.css({width:"",height:O.h}),G.position(),p(et),O.get("onOpen"),N.add(S).hide(),w.focus(),O.get("trapFocus")&&e.addEventListener&&(e.addEventListener("focus",c,!0),at.one(ot,function(){e.removeEventListener("focus",c,!0)})),O.get("returnFocus")&&at.one(ot,function(){t(O.el).focus()})}var g=parseFloat(O.get("opacity"));_.css({opacity:g===g?g:"",cursor:O.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),O.get("closeButton")?R.html(O.get("close")).appendTo(y):R.appendTo("<div/>"),v()}}function g(){w||(K=!1,T=t(i),w=s(lt).attr({id:Z,class:!1===t.support.opacity?J+"IE":"",role:"dialog",tabindex:"-1"}).hide(),_=s(lt,"Overlay").hide(),L=t([s(lt,"LoadingOverlay")[0],s(lt,"LoadingGraphic")[0]]),b=s(lt,"Wrapper"),y=s(lt,"Content").append(S=s(lt,"Title"),A=s(lt,"Current"),I=t('<button type="button"/>').attr({id:J+"Previous"}),B=t('<button type="button"/>').attr({id:J+"Next"}),M=t('<button type="button"/>').attr({id:J+"Slideshow"}),L),R=t('<button type="button"/>').attr({id:J+"Close"}),b.append(s(lt).append(s(lt,"TopLeft"),x=s(lt,"TopCenter"),s(lt,"TopRight")),s(lt,!1,"clear:left").append(C=s(lt,"MiddleLeft"),y,F=s(lt,"MiddleRight")),s(lt,!1,"clear:left").append(s(lt,"BottomLeft"),k=s(lt,"BottomCenter"),s(lt,"BottomRight"))).find("div div").css({float:"left"}),z=s(lt,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),N=B.add(I).add(A).add(M)),e.body&&!w.parent().length&&t(e.body).append(_,w.append(b,z))}function m(){function i(t){t.which>1||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey||(t.preventDefault(),f(this))}return!!w&&(K||(K=!0,B.click(function(){G.next()}),I.click(function(){G.prev()}),R.click(function(){G.close()}),_.click(function(){O.get("overlayClose")&&G.close()}),t(e).bind("keydown."+J,function(t){var e=t.keyCode;q&&O.get("escKey")&&27===e&&(t.preventDefault(),G.close()),q&&O.get("arrowKey")&&D[1]&&!t.altKey&&(37===e?(t.preventDefault(),I.click()):39===e&&(t.preventDefault(),B.click()))}),t.isFunction(t.fn.on)?t(e).on("click."+J,"."+tt,i):t("."+tt).live("click."+J,i)),!0)}function v(){var e,n,o,r=G.prep,c=++ht;if(Y=!0,j=!1,p(rt),p(it),O.get("onLoad"),O.h=O.get("height")?a(O.get("height"),"y")-$-H:O.get("innerHeight")&&a(O.get("innerHeight"),"y"),O.w=O.get("width")?a(O.get("width"),"x")-P-W:O.get("innerWidth")&&a(O.get("innerWidth"),"x"),O.mw=O.w,O.mh=O.h,O.get("maxWidth")&&(O.mw=a(O.get("maxWidth"),"x")-P-W,O.mw=O.w&&O.w<O.mw?O.w:O.mw),O.get("maxHeight")&&(O.mh=a(O.get("maxHeight"),"y")-$-H,O.mh=O.h&&O.h<O.mh?O.h:O.mh),e=O.get("href"),Q=setTimeout(function(){L.show()},100),O.get("inline")){var d=t(e).eq(0);o=t("<div>").hide().insertBefore(d),at.one(rt,function(){o.replaceWith(d)}),r(d)}else O.get("iframe")?r(" "):O.get("html")?r(O.get("html")):l(O,e)?(e=h(O,e),j=O.get("createImg"),t(j).addClass(J+"Photo").bind("error."+J,function(){r(s(lt,"Error").html(O.get("imgError")))}).one("load",function(){c===ht&&setTimeout(function(){var e;O.get("retinaImage")&&i.devicePixelRatio>1&&(j.height=j.height/i.devicePixelRatio,j.width=j.width/i.devicePixelRatio),O.get("scalePhotos")&&(n=function(){j.height-=j.height*e,j.width-=j.width*e},O.mw&&j.width>O.mw&&(e=(j.width-O.mw)/j.width,n()),O.mh&&j.height>O.mh&&(e=(j.height-O.mh)/j.height,n())),O.h&&(j.style.marginTop=Math.max(O.mh-j.height,0)/2+"px"),D[1]&&(O.get("loop")||D[U+1])&&(j.style.cursor="pointer",t(j).bind("click."+J,function(){G.next()})),j.style.width=j.width+"px",j.style.height=j.height+"px",r(j)},1)}),j.src=e):e&&z.load(e,O.get("data"),function(e,i){c===ht&&r("error"===i?s(lt,"Error").html(O.get("xhrError")):t(this).contents())})}var _,w,b,y,x,C,F,k,D,T,E,z,L,S,A,M,B,I,R,N,O,H,W,$,P,U,j,q,Y,X,Q,G,K,V={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return t(this).attr("href")},title:function(){return this.title},createImg:function(){var e=new Image,i=t(this).data("cbox-img-attrs");return"object"==typeof i&&t.each(i,function(t,i){e[t]=i}),e},createIframe:function(){var i=e.createElement("iframe"),s=t(this).data("cbox-iframe-attrs");return"object"==typeof s&&t.each(s,function(t,e){i[t]=e}),"frameBorder"in i&&(i.frameBorder=0),"allowTransparency"in i&&(i.allowTransparency="true"),i.name=(new Date).getTime(),i.allowFullscreen=!0,i}},Z="colorbox",J="cbox",tt=J+"Element",et=J+"_open",it=J+"_load",st=J+"_complete",nt=J+"_cleanup",ot=J+"_closed",rt=J+"_purge",at=t("<a/>"),lt="div",ht=0,ct={},dt=function(){function t(){clearTimeout(r)}function e(){(O.get("loop")||D[U+1])&&(t(),r=setTimeout(G.next,O.get("slideshowSpeed")))}function i(){M.html(O.get("slideshowStop")).unbind(l).one(l,s),at.bind(st,e).bind(it,t),w.removeClass(a+"off").addClass(a+"on")}function s(){t(),at.unbind(st,e).unbind(it,t),M.html(O.get("slideshowStart")).unbind(l).one(l,function(){G.next(),i()}),w.removeClass(a+"on").addClass(a+"off")}function n(){o=!1,M.hide(),t(),at.unbind(st,e).unbind(it,t),w.removeClass(a+"off "+a+"on")}var o,r,a=J+"Slideshow_",l="click."+J;return function(){o?O.get("slideshow")||(at.unbind(nt,n),n()):O.get("slideshow")&&D[1]&&(o=!0,at.one(nt,n),O.get("slideshowAuto")?i():s(),M.show())}}();t[Z]||(t(g),G=t.fn[Z]=t[Z]=function(e,i){var s,n=this;return e=e||{},t.isFunction(n)&&(n=t("<a/>"),e.open=!0),n[0]?(g(),m()&&(i&&(e.onComplete=i),n.each(function(){var i=t.data(this,Z)||{};t.data(this,Z,t.extend(i,e))}).addClass(tt),s=new o(n[0],e),s.get("open")&&f(n[0])),n):n},G.position=function(e,i){function s(){x[0].style.width=k[0].style.width=y[0].style.width=parseInt(w[0].style.width,10)-W+"px",y[0].style.height=C[0].style.height=F[0].style.height=parseInt(w[0].style.height,10)-H+"px"}var o,r,l,h=0,c=0,d=w.offset();if(T.unbind("resize."+J),w.css({top:-9e4,left:-9e4}),r=T.scrollTop(),l=T.scrollLeft(),O.get("fixed")?(d.top-=r,d.left-=l,w.css({position:"fixed"})):(h=r,c=l,w.css({position:"absolute"})),!1!==O.get("right")?c+=Math.max(T.width()-O.w-P-W-a(O.get("right"),"x"),0):!1!==O.get("left")?c+=a(O.get("left"),"x"):c+=Math.round(Math.max(T.width()-O.w-P-W,0)/2),!1!==O.get("bottom")?h+=Math.max(n()-O.h-$-H-a(O.get("bottom"),"y"),0):!1!==O.get("top")?h+=a(O.get("top"),"y"):h+=Math.round(Math.max(n()-O.h-$-H,0)/2),w.css({top:d.top,left:d.left,visibility:"visible"}),b[0].style.width=b[0].style.height="9999px",o={width:O.w+P+W,height:O.h+$+H,top:h,left:c},e){var u=0;t.each(o,function(t){o[t]!==ct[t]&&(u=e)}),e=u}ct=o,e||w.css(o),w.dequeue().animate(o,{duration:e||0,complete:function(){s(),Y=!1,b[0].style.width=O.w+P+W+"px",b[0].style.height=O.h+$+H+"px",O.get("reposition")&&setTimeout(function(){T.bind("resize."+J,G.position)},1),t.isFunction(i)&&i()},step:s})},G.resize=function(t){var e;q&&(t=t||{},t.width&&(O.w=a(t.width,"x")-P-W),t.innerWidth&&(O.w=a(t.innerWidth,"x")),E.css({width:O.w}),t.height&&(O.h=a(t.height,"y")-$-H),t.innerHeight&&(O.h=a(t.innerHeight,"y")),t.innerHeight||t.height||(e=E.scrollTop(),E.css({height:"auto"}),O.h=E.height()),E.css({height:O.h}),e&&E.scrollTop(e),G.position("none"===O.get("transition")?0:O.get("speed")))},G.prep=function(i){if(q){var n,a="none"===O.get("transition")?0:O.get("speed");E.remove(),E=s(lt,"LoadedContent").append(i),E.hide().appendTo(z.show()).css({width:function(){return O.w=O.w||E.width(),O.w=O.mw&&O.mw<O.w?O.mw:O.w,O.w}(),overflow:O.get("scrolling")?"auto":"hidden"}).css({height:function(){return O.h=O.h||E.height(),O.h=O.mh&&O.mh<O.h?O.mh:O.h,O.h}()}).prependTo(y),z.hide(),t(j).css({float:"none"}),d(O.get("className")),n=function(){function i(){!1===t.support.opacity&&w[0].style.removeAttribute("filter")}var s,n,c=D.length;q&&(n=function(){clearTimeout(Q),L.hide(),p(st),O.get("onComplete")},S.html(O.get("title")).show(),E.show(),c>1?("string"==typeof O.get("current")&&A.html(O.get("current").replace("{current}",U+1).replace("{total}",c)).show(),B[O.get("loop")||U<c-1?"show":"hide"]().html(O.get("next")),I[O.get("loop")||U?"show":"hide"]().html(O.get("previous")),dt(),O.get("preloading")&&t.each([r(-1),r(1)],function(){var i,s=D[this],n=new o(s,t.data(s,Z)),r=n.get("href");r&&l(n,r)&&(r=h(n,r),i=e.createElement("img"),i.src=r)})):N.hide(),O.get("iframe")?(s=O.get("createIframe"),O.get("scrolling")||(s.scrolling="no"),t(s).attr({src:O.get("href"),class:J+"Iframe"}).one("load",n).appendTo(E),at.one(rt,function(){s.src="//about:blank"}),O.get("fastIframe")&&t(s).trigger("load")):n(),"fade"===O.get("transition")?w.fadeTo(a,1,i):i())},"fade"===O.get("transition")?w.fadeTo(a,0,function(){G.position(0,n)}):G.position(a,n)}},G.next=function(){!Y&&D[1]&&(O.get("loop")||D[U+1])&&(U=r(1),f(D[U]))},G.prev=function(){!Y&&D[1]&&(O.get("loop")||U)&&(U=r(-1),f(D[U]))},G.close=function(){q&&!X&&(X=!0,q=!1,p(nt),O.get("onCleanup"),T.unbind("."+J),_.fadeTo(O.get("fadeOut")||0,0),w.stop().fadeTo(O.get("fadeOut")||0,0,function(){w.hide(),_.hide(),p(rt),E.remove(),setTimeout(function(){X=!1,p(ot),O.get("onClosed")},1)}))},G.remove=function(){w&&(w.stop(),t[Z].close(),w.stop(!1,!0).remove(),_.remove(),X=!1,w=null,t("."+tt).removeData(Z).removeClass(tt),t(e).unbind("click."+J).unbind("keydown."+J))},G.element=function(){return t(O.el)},G.settings=V)}(jQuery,document,window),function(t){function e(t,e){if(8==c){var i=g.width(),s=l.debounce(function(){var t=g.width();i!=t&&(i=t,e())},1);g.on(t,s)}else g.on(t,l.debounce(e,1))}function i(e){var i=e[0],s=i.parentElement;do{if("visible"!=window.getComputedStyle(s).getPropertyValue("overflow"))break}while(s=s.parentElement);return t(s==document.body?[]:s)}function s(t){window&&window.console&&window.console.error&&window.console.error("jQuery.floatThead: "+t)}function n(t){var e=t.getBoundingClientRect();return e.width||e.right-e.left}function o(){var e=t('<div style="width:50px;height:50px;overflow-y:scroll;position:absolute;top:-200px;left:-200px;"><div style="height:100px;width:100%"></div>');t("body").append(e);var i=e.innerWidth(),s=t("div",e).innerWidth();return e.remove(),i-s}function r(t){if(t.dataTableSettings)for(var e=0;e<t.dataTableSettings.length;e++){var i=t.dataTableSettings[e].nTable;if(t[0]==i)return!0}return!1}function a(t,e,i){var s=i?"outerWidth":"width";if(p&&t.css("max-width")){var n=0;i&&(n+=parseInt(t.css("borderLeft"),10),n+=parseInt(t.css("borderRight"),10));for(var o=0;o<e.length;o++)n+=e.get(o).offsetWidth;return n}return t[s]()}t.floatThead=t.floatThead||{},t.floatThead.defaults={headerCellSelector:"tr:visible:first>*:visible",zIndex:1001,position:"auto",top:0,bottom:0,scrollContainer:function(){return t([])},responsiveContainer:function(){return t([])},getSizingRow:function(t){return t.find("tbody tr:visible:first>*:visible")},floatTableClass:"floatThead-table",floatWrapperClass:"floatThead-wrapper",floatContainerClass:"floatThead-container",copyTableClass:!0,enableAria:!1,autoReflow:!1,debug:!1,support:{bootstrap:!0,datatables:!0,jqueryUI:!0,perfectScrollbar:!0}};var l=window._,h="undefined"!=typeof MutationObserver,c=function(){for(var t=3,e=document.createElement("b"),i=e.all||[];t=1+t,e.innerHTML="\x3c!--[if gt IE "+t+"]><i><![endif]--\x3e",i[0];);return t>4?t:document.documentMode}(),d=/Gecko\//.test(navigator.userAgent),u=/WebKit\//.test(navigator.userAgent);c||d||u||(c=11);var p=function(){if(u){var e=t('<div style="width:0px"><table style="max-width:100%"><tr><th><div style="min-width:100px;">X</div></th></tr></table></div>');t("body").append(e);var i=0==e.find("table").width();return e.remove(),i}return!1},f=!d&&!c,g=t(window);if(!window.matchMedia){var m=window.onbeforeprint,v=window.onafterprint;window.onbeforeprint=function(){m&&m(),g.triggerHandler("beforeprint")},window.onafterprint=function(){v&&v(),g.triggerHandler("afterprint")}}t.fn.floatThead=function(d){if(d=d||{},!l&&!(l=window._||t.floatThead._))throw new Error("jquery.floatThead-slim.js requires underscore. You should use the non-lite version since you do not have underscore.");if(8>c)return this;var m=null;if(l.isFunction(p)&&(p=p()),l.isString(d)){var v=d,_=Array.prototype.slice.call(arguments,1),w=this;return this.filter("table").each(function(){var e=t(this),i=e.data("floatThead-lazy");i&&e.floatThead(i);var s=e.data("floatThead-attached");if(s&&l.isFunction(s[v])){var n=s[v].apply(this,_);void 0!==n&&(w=n)}}),w}var b=t.extend({},t.floatThead.defaults||{},d);if(t.each(d,function(e){e in t.floatThead.defaults||!b.debug||s("Used ["+e+"] key to init plugin, but that param is not an option for the plugin. Valid options are: "+l.keys(t.floatThead.defaults).join(", "))}),b.debug){var y=t.fn.jquery.split(".");1==parseInt(y[0],10)&&parseInt(y[1],10)<=7&&s("jQuery version "+t.fn.jquery+" detected! This plugin supports 1.8 or better, or 1.7.x with jQuery UI 1.8.24 -> http://jqueryui.com/resources/download/jquery-ui-1.8.24.zip")}return this.filter(":not(."+b.floatTableClass+")").each(function(){function d(t){return t+".fth-"+A+".floatTHead"}function p(){var e=0;if(B.children("tr:visible").each(function(){e+=t(this).outerHeight(!0)}),"collapse"==M.css("border-collapse")){var i=parseInt(M.css("border-top-width"),10);i>parseInt(M.find("thead tr:first").find(">*:first").css("border-top-width"),10)&&(e-=i/2)}lt.outerHeight(e),ht.outerHeight(e)}function v(){var t=a(M,ut,!0),e=q?j:P,i=e.width()||t,s="hidden"!=e.css("overflow-y")?i-H.vertical:i;if(ot.width(s),U){var n=100*t/s;tt.css("width",n+"%")}else tt.outerWidth(t)}function _(){R=(l.isFunction(b.top)?b.top(M):b.top)||0,N=(l.isFunction(b.bottom)?b.bottom(M):b.bottom)||0}function w(){var e,i=B.find(b.headerCellSelector);if(st?e=it.find("col").length:(e=0,i.each(function(){e+=parseInt(t(this).attr("colspan")||1,10)})),e!=$){$=e;for(var s,n=[],o=[],r=[],a=0;e>a;a++)n.push(b.enableAria&&(s=i.eq(a).text())?'<th scope="col" class="floatThead-col">'+s+"</th>":'<th class="floatThead-col"/>'),o.push("<col/>"),r.push("<fthtd style='display:table-cell;height:0;width:auto;'/>");o=o.join(""),n=n.join(""),f&&(r=r.join(""),nt.html(r),ut=nt.find("fthtd")),lt.html(n),ht=lt.find("th"),st||it.html(o),ct=it.find("col"),et.html(o),dt=et.find("col")}return e}function y(){if(!O){if(O=!0,Y){var t=a(M,ut,!0);t>Z.width()&&M.css("minWidth",t)}M.css(gt),tt.css(gt),tt.append(B),I.before(at),p()}}function x(){O&&(O=!1,Y&&M.width(vt),at.detach(),M.prepend(B),M.css(mt),tt.css(mt),M.css("minWidth",_t),M.css("minWidth",a(M,ut)))}function C(t){wt!=t&&(wt=t,M.triggerHandler("floatThead",[t,ot]))}function F(t){Y!=t&&(Y=t,ot.css({position:Y?"absolute":"fixed"}))}function k(t,e,i,s){return f?i:s?b.getSizingRow(t,e,i):e}function D(){var t,e=w();return function(){var i=ot.scrollLeft();ct=it.find("col");var s=k(M,ct,ut,c);if(s.length==e&&e>0){if(!st)for(t=0;e>t;t++)ct.eq(t).css("width","");x();var o=[];for(t=0;e>t;t++)o[t]=n(s.get(t));for(t=0;e>t;t++)dt.eq(t).width(o[t]),ct.eq(t).width(o[t]);y()}else tt.append(B),M.css(mt),tt.css(mt),p();ot.scrollLeft(i),M.triggerHandler("reflowed",[ot])}}function T(t){var e=P.css("border-"+t+"-width"),i=0;return e&&~e.indexOf("px")&&(i=parseInt(e,10)),i}function E(){return"auto"==j.css("overflow-x")}function z(){var t,e=P.scrollTop(),i=0,s=Q?X.outerHeight(!0):0,n=G?s:-s,o=ot.height(),r=M.offset(),a=0,l=0;if(U){var h=P.offset();i=r.top-h.top+e,Q&&G&&(i+=s),a=T("left"),l=T("top"),i-=l}else t=r.top-R-o+N+H.horizontal;var c=g.scrollTop(),d=g.scrollLeft(),p=(E()?j:P).scrollLeft();return function(h){q=E();var f=M[0].offsetWidth<=0&&M[0].offsetHeight<=0;if(!f&&rt)return rt=!1,setTimeout(function(){M.triggerHandler("reflow")},1),null;if(f&&(rt=!0,!Y))return null;if("windowScroll"==h)c=g.scrollTop(),d=g.scrollLeft();else if("containerScroll"==h)if(j.length){if(!q)return;p=j.scrollLeft()}else e=P.scrollTop(),p=P.scrollLeft();else"init"!=h&&(c=g.scrollTop(),d=g.scrollLeft(),e=P.scrollTop(),p=(q?j:P).scrollLeft());if(!u||!(0>c||0>d)){if(J)F("windowScrollDone"==h);else if("windowScrollDone"==h)return null;r=M.offset(),Q&&G&&(r.top+=s);var m,v,_=M.outerHeight();if(U&&Y){if(i>=e){var w=i-e+l;m=w>0?w:0,C(!1)}else m=V?l:e,C(!0);v=a}else!U&&Y?(c>t+_+n?m=_-o+n:r.top>=c+R?(m=0,x(),C(!1)):(m=R+c-r.top+i+(G?s:0),y(),C(!0)),v=p):U&&!Y?(i>e||e-i>_?(m=r.top-c,x(),C(!1)):(m=r.top+e-c-i,y(),C(!0)),v=r.left+p-d):U||Y||(c>t+_+n?m=_+R-c+t+n:r.top>c+R?(m=r.top-c,y(),C(!1)):(m=R,C(!0)),v=r.left+p-d);return{top:m,left:v}}}}function L(){var t=null,e=null,i=null;return function(s,n,o){null==s||t==s.top&&e==s.left||(ot.css({top:s.top,left:s.left}),t=s.top,e=s.left),n&&v(),o&&p();var r=(q?j:P).scrollLeft();Y&&i==r||(ot.scrollLeft(r),i=r)}}function S(){if(P.length)if(b.support&&b.support.perfectScrollbar&&P.data().perfectScrollbar)H={horizontal:0,vertical:0};else{if("scroll"==P.css("overflow-x"))H.horizontal=W;else{var t=P.width(),e=a(M,ut),i=n>s?W:0;H.horizontal=e>t-i?W:0}if("scroll"==P.css("overflow-y"))H.vertical=W;else{var s=P.height(),n=M.height(),o=e>t?W:0;H.vertical=n>s-o?W:0}}}var A=l.uniqueId(),M=t(this);if(M.data("floatThead-attached"))return!0;if(!M.is("table"))throw new Error('jQuery.floatThead must be run on a table element. ex: $("table").floatThead();');h=b.autoReflow&&h;var B=M.children("thead:first"),I=M.children("tbody:first");if(0==B.length||0==I.length)return M.data("floatThead-lazy",b),
void M.unbind("reflow").one("reflow",function(){M.floatThead(b)});M.data("floatThead-lazy")&&M.unbind("reflow"),M.data("floatThead-lazy",!1);var R,N,O=!0,H={vertical:0,horizontal:0},W=o(),$=0;!0===b.scrollContainer&&(b.scrollContainer=i);var P=b.scrollContainer(M)||t([]),U=P.length>0,j=U?t([]):b.responsiveContainer(M)||t([]),q=E(),Y=null;void 0!==b.useAbsolutePositioning&&(b.position="auto",b.useAbsolutePositioning&&(b.position=b.useAbsolutePositioning?"absolute":"fixed"),s("option 'useAbsolutePositioning' has been removed in v1.3.0, use `position:'"+b.position+"'` instead. See docs for more info: http://mkoryak.github.io/floatThead/#options")),void 0!==b.scrollingTop&&(b.top=b.scrollingTop,s("option 'scrollingTop' has been renamed to 'top' in v1.3.0. See docs for more info: http://mkoryak.github.io/floatThead/#options")),void 0!==b.scrollingBottom&&(b.bottom=b.scrollingBottom,s("option 'scrollingBottom' has been renamed to 'bottom' in v1.3.0. See docs for more info: http://mkoryak.github.io/floatThead/#options")),"auto"==b.position?Y=null:"fixed"==b.position?Y=!1:"absolute"==b.position?Y=!0:b.debug&&s('Invalid value given to "position" option, valid is "fixed", "absolute" and "auto". You passed: ',b.position),null==Y&&(Y=U);var X=M.find("caption"),Q=1==X.length;if(Q)var G="top"===(X.css("caption-side")||X.attr("align")||"top");var K=t('<fthfoot style="display:table-footer-group;border-spacing:0;height:0;border-collapse:collapse;visibility:hidden"/>'),V=!1,Z=t([]),J=9>=c&&!U&&Y,tt=t("<table/>"),et=t("<colgroup/>"),it=M.children("colgroup:first"),st=!0;0==it.length&&(it=t("<colgroup/>"),st=!1);var nt=t('<fthtr style="display:table-row;border-spacing:0;height:0;border-collapse:collapse"/>'),ot=t('<div style="overflow: hidden;" aria-hidden="true"></div>'),rt=!1,at=t("<thead/>"),lt=t('<tr class="size-row"/>'),ht=t([]),ct=t([]),dt=t([]),ut=t([]);at.append(lt),M.prepend(it),f&&(K.append(nt),M.append(K)),tt.append(et),ot.append(tt),b.copyTableClass&&tt.attr("class",M.attr("class")),tt.attr({cellpadding:M.attr("cellpadding"),cellspacing:M.attr("cellspacing"),border:M.attr("border")});var pt=M.css("display");if(tt.css({borderCollapse:M.css("borderCollapse"),border:M.css("border"),display:pt}),U||tt.css("width","auto"),"none"==pt&&(rt=!0),tt.addClass(b.floatTableClass).css({margin:0,"border-bottom-width":0}),Y){var ft=function(t,e){var i=t.css("position"),s="relative"==i||"absolute"==i,n=t;if(!s||e){var o={paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight")};ot.css(o),n=t.data("floatThead-containerWrap")||t.wrap("<div class='"+b.floatWrapperClass+"' style='position: relative; clear:both;'></div>").parent(),t.data("floatThead-containerWrap",n),V=!0}return n};U?(Z=ft(P,!0),Z.prepend(ot)):(Z=ft(M),M.before(ot))}else M.before(ot);ot.css({position:Y?"absolute":"fixed",marginTop:0,top:Y?0:"auto",zIndex:b.zIndex}),ot.addClass(b.floatContainerClass),_();var gt={"table-layout":"fixed"},mt={"table-layout":M.css("tableLayout")||"auto"},vt=M[0].style.width||"",_t=M.css("minWidth")||"",wt=!1;S();var bt,yt=function(){(bt=D())()};yt();var xt=z(),Ct=L();Ct(xt("init"),!0);var Ft=l.debounce(function(){Ct(xt("windowScrollDone"),!1)},1),kt=function(){Ct(xt("windowScroll"),!1),J&&Ft()},Dt=function(){Ct(xt("containerScroll"),!1)},Tt=function(){M.is(":hidden")||(_(),S(),yt(),xt=z(),(Ct=L())(xt("resize"),!0,!0))},Et=l.debounce(function(){M.is(":hidden")||(S(),_(),yt(),xt=z(),Ct(xt("reflow"),!0))},1),zt=function(){M.floatThead("destroy",!0)},Lt=function(){M.floatThead(b)},St=function(t){t.matches?zt():Lt()};if(window.matchMedia?window.matchMedia("print").addListener(St):(g.on("beforeprint",zt),g.on("afterprint",Lt)),U?Y?P.on(d("scroll"),Dt):(P.on(d("scroll"),Dt),g.on(d("scroll"),kt)):(j.on(d("scroll"),Dt),g.on(d("scroll"),kt)),g.on(d("load"),Et),e(d("resize"),Tt),M.on("reflow",Et),b.support&&b.support.datatables&&r(M)&&M.on("filter",Et).on("sort",Et).on("page",Et),b.support&&b.support.bootstrap&&g.on(d("shown.bs.tab"),Et),b.support&&b.support.jqueryUI&&g.on(d("tabsactivate"),Et),h){var At=null;l.isFunction(b.autoReflow)&&(At=b.autoReflow(M,P)),At||(At=P.length?P[0]:M[0]),m=new MutationObserver(function(t){for(var e=function(t){return t&&t[0]&&("THEAD"==t[0].nodeName||"TD"==t[0].nodeName||"TH"==t[0].nodeName)},i=0;i<t.length;i++)if(!e(t[i].addedNodes)&&!e(t[i].removedNodes)){Et();break}}),m.observe(At,{childList:!0,subtree:!0})}M.data("floatThead-attached",{destroy:function(t){var e=".fth-"+A;x(),M.css(mt),it.remove(),f&&K.remove(),at.parent().length&&at.replaceWith(B),C(!1),h&&(m.disconnect(),m=null),M.off("reflow reflowed"),P.off(e),j.off(e),V&&(P.length?P.unwrap():M.unwrap()),U?P.data("floatThead-containerWrap",!1):M.data("floatThead-containerWrap",!1),M.css("minWidth",_t),ot.remove(),M.data("floatThead-attached",!1),g.off(e),t||(window.matchMedia&&window.matchMedia("print").removeListener(St),zt=Lt=function(){})},reflow:function(){Et()},setHeaderHeight:function(){p()},getFloatContainer:function(){return ot},getRowGroups:function(){return O?ot.find(">table>thead").add(M.children("tbody,tfoot")):M.children("thead,tbody,tfoot")}})}),this}}(jQuery),function(t){t.floatThead=t.floatThead||{},t.floatThead._=window._||function(){var e={},i=Object.prototype.hasOwnProperty,s=["Arguments","Function","String","Number","Date","RegExp"];e.has=function(t,e){return i.call(t,e)},e.keys=function(t){if(t!==Object(t))throw new TypeError("Invalid object");var i=[];for(var s in t)e.has(t,s)&&i.push(s);return i};var n=0;return e.uniqueId=function(t){var e=++n+"";return t?t+e:e},t.each(s,function(){var t=this;e["is"+t]=function(e){return Object.prototype.toString.call(e)=="[object "+t+"]"}}),e.debounce=function(t,e,i){var s,n,o,r,a;return function(){o=this,n=arguments,r=new Date;var l=function(){var h=new Date-r;e>h?s=setTimeout(l,e-h):(s=null,i||(a=t.apply(o,n)))},h=i&&!s;return s||(s=setTimeout(l,e)),h&&(a=t.apply(o,n)),a}},e}()}(jQuery),function(t,e){var i=function(t,e){"use strict";if(e.getElementsByClassName){var i,s=e.documentElement,n=t.Date,o=t.HTMLPictureElement,r="addEventListener",a="getAttribute",l=t[r],h=t.setTimeout,c=t.requestAnimationFrame||h,d=t.requestIdleCallback,u=/^picture$/i,p=["load","error","lazyincluded","_lazyloaded"],f={},g=Array.prototype.forEach,m=function(t,e){return f[e]||(f[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")),f[e].test(t[a]("class")||"")&&f[e]},v=function(t,e){m(t,e)||t.setAttribute("class",(t[a]("class")||"").trim()+" "+e)},_=function(t,e){var i;(i=m(t,e))&&t.setAttribute("class",(t[a]("class")||"").replace(i," "))},w=function(t,e,i){var s=i?r:"removeEventListener";i&&w(t,e),p.forEach(function(i){t[s](i,e)})},b=function(t,i,s,n,o){var r=e.createEvent("CustomEvent");return r.initCustomEvent(i,!n,!o,s||{}),t.dispatchEvent(r),r},y=function(e,s){var n;!o&&(n=t.picturefill||i.pf)?n({reevaluate:!0,elements:[e]}):s&&s.src&&(e.src=s.src)},x=function(t,e){return(getComputedStyle(t,null)||{})[e]},C=function(t,e,s){for(s=s||t.offsetWidth;s<i.minSize&&e&&!t._lazysizesWidth;)s=e.offsetWidth,e=e.parentNode;return s},F=function(){var t,i,s=[],n=function(){var e;for(t=!0,i=!1;s.length;)e=s.shift(),e[0].apply(e[1],e[2]);t=!1};return function(o){t?o.apply(this,arguments):(s.push([o,this,arguments]),i||(i=!0,(e.hidden?h:c)(n)))}}(),k=function(t,e){return e?function(){F(t)}:function(){var e=this,i=arguments;F(function(){t.apply(e,i)})}},D=function(t){var e,i=0,s=666,o=function(){e=!1,i=n.now(),t()},r=d?function(){d(o,{timeout:s}),666!==s&&(s=666)}:k(function(){h(o)},!0);return function(t){var o;(t=!0===t)&&(s=44),e||(e=!0,o=125-(n.now()-i),0>o&&(o=0),t||9>o&&d?r():h(r,o))}},T=function(t){var e,i,s=function(){e=null,t()},o=function(){var t=n.now()-i;99>t?h(o,99-t):(d||s)(s)};return function(){i=n.now(),e||(e=h(o,99))}},E=function(){var o,c,d,p,f,C,E,L,S,A,M,B,I,R,N,O=/^img$/i,H=/^iframe$/i,W="onscroll"in t&&!/glebot/.test(navigator.userAgent),$=0,P=0,U=-1,j=function(t){P--,t&&t.target&&w(t.target,j),(!t||0>P||!t.target)&&(P=0)},q=function(t,i){var n,o=t,r="hidden"==x(e.body,"visibility")||"hidden"!=x(t,"visibility");for(S-=i,B+=i,A-=i,M+=i;r&&(o=o.offsetParent)&&o!=e.body&&o!=s;)(r=(x(o,"opacity")||1)>0)&&"visible"!=x(o,"overflow")&&(n=o.getBoundingClientRect(),r=M>n.left&&A<n.right&&B>n.top-1&&S<n.bottom+1);return r},Y=function(){var t,n,r,l,h,u,p,g,m;if((f=i.loadMode)&&8>P&&(t=o.length)){n=0,U++,null==R&&("expand"in i||(i.expand=s.clientHeight>500&&s.clientWidth>500?500:370),I=i.expand,R=I*i.expFactor),R>$&&1>P&&U>2&&f>2&&!e.hidden?($=R,U=0):$=f>1&&U>1&&6>P?I:0;for(;t>n;n++)if(o[n]&&!o[n]._lazyRace)if(W)if((g=o[n][a]("data-expand"))&&(u=1*g)||(u=$),m!==u&&(E=innerWidth+u*N,L=innerHeight+u,p=-1*u,m=u),r=o[n].getBoundingClientRect(),(B=r.bottom)>=p&&(S=r.top)<=L&&(M=r.right)>=p*N&&(A=r.left)<=E&&(B||M||A||S)&&(d&&3>P&&!g&&(3>f||4>U)||q(o[n],u))){if(tt(o[n]),h=!0,P>9)break}else!h&&d&&!l&&4>P&&4>U&&f>2&&(c[0]||i.preloadAfterLoad)&&(c[0]||!g&&(B||M||A||S||"auto"!=o[n][a](i.sizesAttr)))&&(l=c[0]||o[n]);else tt(o[n]);l&&!h&&tt(l)}},X=D(Y),Q=function(t){v(t.target,i.loadedClass),_(t.target,i.loadingClass),w(t.target,K)},G=k(Q),K=function(t){G({target:t.target})},V=function(t,e){try{t.contentWindow.location.replace(e)}catch(i){t.src=e}},Z=function(t){var e,s,n=t[a](i.srcsetAttr);(e=i.customMedia[t[a]("data-media")||t[a]("media")])&&t.setAttribute("media",e),n&&t.setAttribute("srcset",n),e&&(s=t.parentNode,s.insertBefore(t.cloneNode(),t),s.removeChild(t))},J=k(function(t,e,s,n,o){var r,l,c,d,f,m;(f=b(t,"lazybeforeunveil",e)).defaultPrevented||(n&&(s?v(t,i.autosizesClass):t.setAttribute("sizes",n)),l=t[a](i.srcsetAttr),r=t[a](i.srcAttr),o&&(c=t.parentNode,d=c&&u.test(c.nodeName||"")),m=e.firesLoad||"src"in t&&(l||r||d),f={target:t},m&&(w(t,j,!0),clearTimeout(p),p=h(j,2500),v(t,i.loadingClass),w(t,K,!0)),d&&g.call(c.getElementsByTagName("source"),Z),l?t.setAttribute("srcset",l):r&&!d&&(H.test(t.nodeName)?V(t,r):t.src=r),(l||d)&&y(t,{src:r})),F(function(){t._lazyRace&&delete t._lazyRace,_(t,i.lazyClass),(!m||t.complete)&&(m?j(f):P--,Q(f))})}),tt=function(t){var e,s=O.test(t.nodeName),n=s&&(t[a](i.sizesAttr)||t[a]("sizes")),o="auto"==n;(!o&&d||!s||!t.src&&!t.srcset||t.complete||m(t,i.errorClass))&&(e=b(t,"lazyunveilread").detail,o&&z.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,P++,J(t,e,o,n,s))},et=function(){if(!d){if(n.now()-C<999)return void h(et,999);var t=T(function(){i.loadMode=3,X()});d=!0,i.loadMode=3,X(),l("scroll",function(){3==i.loadMode&&(i.loadMode=2),t()},!0)}};return{_:function(){C=n.now(),o=e.getElementsByClassName(i.lazyClass),c=e.getElementsByClassName(i.lazyClass+" "+i.preloadClass),N=i.hFac,l("scroll",X,!0),l("resize",X,!0),t.MutationObserver?new MutationObserver(X).observe(s,{childList:!0,subtree:!0,attributes:!0}):(s[r]("DOMNodeInserted",X,!0),s[r]("DOMAttrModified",X,!0),setInterval(X,999)),l("hashchange",X,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(t){e[r](t,X,!0)}),/d$|^c/.test(e.readyState)?et():(l("load",et),e[r]("DOMContentLoaded",X),h(et,2e4)),o.length?Y():X()},checkElems:X,unveil:tt}}(),z=function(){var t,s=k(function(t,e,i,s){var n,o,r;if(t._lazysizesWidth=s,s+="px",t.setAttribute("sizes",s),u.test(e.nodeName||""))for(n=e.getElementsByTagName("source"),o=0,r=n.length;r>o;o++)n[o].setAttribute("sizes",s);i.detail.dataAttr||y(t,i.detail)}),n=function(t,e,i){var n,o=t.parentNode;o&&(i=C(t,o,i),n=b(t,"lazybeforesizes",{width:i,dataAttr:!!e}),n.defaultPrevented||(i=n.detail.width)&&i!==t._lazysizesWidth&&s(t,o,n,i))},o=function(){var e,i=t.length;if(i)for(e=0;i>e;e++)n(t[e])},r=T(o);return{_:function(){t=e.getElementsByClassName(i.autosizesClass),l("resize",r)},checkElems:r,updateElem:n}}(),L=function(){L.i||(L.i=!0,z._(),E._())};return function(){var e,s={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2};i=t.lazySizesConfig||t.lazysizesConfig||{};for(e in s)e in i||(i[e]=s[e]);t.lazySizesConfig=i,h(function(){i.init&&L()})}(),{cfg:i,autoSizer:z,loader:E,init:L,uP:y,aC:v,rC:_,hC:m,fire:b,gW:C,rAF:F}}}(t,t.document);t.lazySizes=i,"object"==typeof module&&module.exports&&(module.exports=i)}(window);
//# sourceMappingURL=app.min.js.map
